"use strict";(self.webpackChunkhigress_website=self.webpackChunkhigress_website||[]).push([[1874],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(n),g=i,m=p["".concat(c,".").concat(g)]||p[g]||d[g]||o;return n?r.createElement(m,a(a({ref:t},u),{},{components:n})):r.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=g;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:i,a[1]=s;for(var l=2;l<o;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},2204:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=n(7462),i=(n(7294),n(3905));const o={title:"Code Reading Instructions",keywords:["higress","coding"],description:"Higress Code Reading Instructions",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/dev/code.md"},a="Code Reading Instructions",s={unversionedId:"dev/code",id:"dev/code",title:"Code Reading Instructions",description:"Higress Code Reading Instructions",source:"@site/i18n/en-us/docusaurus-plugin-content-docs/current/dev/code.md",sourceDirName:"dev",slug:"/dev/code",permalink:"/en-us/docs/dev/code",draft:!1,editUrl:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/dev/code.md",tags:[],version:"current",frontMatter:{title:"Code Reading Instructions",keywords:["higress","coding"],description:"Higress Code Reading Instructions",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/dev/code.md"},sidebar:"docs",previous:{title:"Log",permalink:"/en-us/docs/ops/log"},next:{title:"Higress architecture description",permalink:"/en-us/docs/dev/architecture"}},c={},l=[],u={toc:l},p="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"code-reading-instructions"},"Code Reading Instructions"),(0,i.kt)("p",null,"If you would like to constribute source code for Higress, please check out the ",(0,i.kt)("a",{parentName:"p",href:"/en-us/docs/developers/guide_dev"},"Contribute Guide")),(0,i.kt)("p",null,"Code base structure descriptions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"cmd: Containing functions of parsing command-line arguments, etc.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"pkg/ingress: Containing functions of converting Ingress resources to Istio resources.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"pkg/bootstrap: Containing functions of starting gRPC/xDS/HTTP servers.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"registry: Implementations of various service registries.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"envoy: Containing the referred official envoy codebase and corresponding patches.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"istio: Containing the referred official istio codebase and corresponding patches.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"plugins: Higress plugin SDK and official built-in plugins.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"tools: Building related scripts.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"docker: Docker image building related scripts."))),(0,i.kt)("p",null,"During compilation, ",(0,i.kt)("inlineCode",{parentName:"p"},"make prebuild")," will be executed automatically, generating an ",(0,i.kt)("inlineCode",{parentName:"p"},"external")," folder, which contains all the external dependeices, including envoy and istios, with all the patches applied."),(0,i.kt)("p",null,"If you would like to modify the source code of envoy or istio, you can do it directly in the ",(0,i.kt)("inlineCode",{parentName:"p"},"external")," folder, then execute the prebuild command and generate the patch file with diff later. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mv external/envoy external/envoy_new\nmake prebuild\ndiff -Naur external/envoy external/envoy_new > envoy/1.20/patches/envoy/$(date +%Y%m%d)-what-changed.patch\n")),(0,i.kt)("p",null,"Please be aware that patches will be applied in the order of file names. So please use timestamp as a prefix when naming a new patch file."))}d.isMDXComponent=!0}}]);