"use strict";(self.webpackChunkhigress_website=self.webpackChunkhigress_website||[]).push([[2352],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var s=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=s.createContext({}),p=function(e){var t=s.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return s.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},g=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(n),g=r,d=c["".concat(l,".").concat(g)]||c[g]||m[g]||a;return n?s.createElement(d,o(o({ref:t},u),{},{components:n})):s.createElement(d,o({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=g;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<a;p++)o[p]=n[p];return s.createElement.apply(null,o)}return s.createElement.apply(null,n)}g.displayName="MDXCreateElement"},691:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var s=n(7462),r=(n(7294),n(3905));const a={title:"Deploy Higress By Helm",keywords:["kubernetes","helm","ops"],description:"Deploy Higress By Helm.",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/en-us/docusaurus-plugin-content-docs/current/ops/deploy-by-helm.md"},o="Deploy Higress By Helm",i={unversionedId:"ops/deploy-by-helm",id:"ops/deploy-by-helm",title:"Deploy Higress By Helm",description:"Deploy Higress By Helm.",source:"@site/i18n/en-us/docusaurus-plugin-content-docs/current/ops/deploy-by-helm.md",sourceDirName:"ops",slug:"/ops/deploy-by-helm",permalink:"/en-us/docs/ops/deploy-by-helm",draft:!1,editUrl:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/en-us/docusaurus-plugin-content-docs/current/ops/deploy-by-helm.md",tags:[],version:"current",frontMatter:{title:"Deploy Higress By Helm",keywords:["kubernetes","helm","ops"],description:"Deploy Higress By Helm.",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/en-us/docusaurus-plugin-content-docs/current/ops/deploy-by-helm.md"},sidebar:"docs",previous:{title:"WAF",permalink:"/en-us/docs/user/waf"},next:{title:"Upgrade",permalink:"/en-us/docs/ops/upgrade"}},l={},p=[{value:"Install Higress",id:"install-higress",level:2},{value:"Helm Installation Command",id:"helm-installation-command",level:3},{value:"Installation Parameters",id:"installation-parameters",level:3},{value:"Support Istio CRD",id:"support-istio-crd",level:2}],u={toc:p},c="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,s.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"deploy-higress-by-helm"},"Deploy Higress By Helm"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://helm.sh/"},"Helm")," is a package manager for Kubernetes used in software management and deployment. You can use Helm to perform a quick install of Higress Gateway in your Kubernetes cluster."),(0,r.kt)("h2",{id:"install-higress"},"Install Higress"),(0,r.kt)("p",null,"Higress Gateway consists of a control plane component ",(0,r.kt)("inlineCode",{parentName:"p"},"higress-controller")," and a data plane component ",(0,r.kt)("inlineCode",{parentName:"p"},"higress-gateway"),". It uses Istio to management ",(0,r.kt)("strong",{parentName:"p"},"API configurations of the data plane"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"higress-controller")," to manage ",(0,r.kt)("strong",{parentName:"p"},"API configurations of the control plane"),"."),(0,r.kt)("h3",{id:"helm-installation-command"},"Helm Installation Command"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add higress.io https://higress.io/helm-charts\nhelm install higress higress.io/higress -n higress-system --create-namespace\n")),(0,r.kt)("h3",{id:"installation-parameters"},"Installation Parameters"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"enableStatus")),(0,r.kt)("p",null,"When migrating from Nginx Ingress, in order to avoid status field of Ingress objects being overwritten, Higress won't write the entry IP to the status field of the corresponding Ingress object."),(0,r.kt)("p",null,"You can use ",(0,r.kt)("inlineCode",{parentName:"p"},"--set enableStatus=true")," enable to feature."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"ingressClass")),(0,r.kt)("p",null,"If there are multiple gateway instances deployed in the cluster, you can use ",(0,r.kt)("a",{parentName:"p",href:"https://kubernetes.io/zh-cn/docs/concepts/services-networking/ingress/#ingress-class"},"IngressClass")," to distinguish the scope of each gateway instance."),(0,r.kt)("p",null,"You can use ",(0,r.kt)("inlineCode",{parentName:"p"},"--set ingressClass=<name>")," to let Higress know which Ingress instances it shall listen to."),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"watchNamespace")),(0,r.kt)("p",null,"When isolating different business systems using K8s namespace, if each namespace requires a standalone gateway instance, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"watchNamespace")," to confine the Ingress watching of Higress within the given namespace."),(0,r.kt)("p",null,"You can use ",(0,r.kt)("inlineCode",{parentName:"p"},"--set watchNamespace=<namespace>")," to set this value."),(0,r.kt)("h2",{id:"support-istio-crd"},"Support Istio CRD"),(0,r.kt)("p",null,"The CRD of Istio needs to be installed in advance in the cluster. If you do not want to install Istio, you can also install only the CRD of Istio:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add istio https://istio-release.storage.googleapis.com/charts\nhelm install istio-base istio/base -n istio-system\n")),(0,r.kt)("p",null,"In this mode, you need to update the deployment parameters of Higress:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm upgrade higress -n higress-system --set global.enableIstioAPI=true higress.io/higress\n")))}m.isMDXComponent=!0}}]);