"use strict";(self.webpackChunkhigress_website=self.webpackChunkhigress_website||[]).push([[1167],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>g});var a=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=a.createContext({}),s=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},m=function(e){var n=s(e.components);return a.createElement(i.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},k=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,i=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=s(t),k=l,g=u["".concat(i,".").concat(k)]||u[k]||d[k]||r;return t?a.createElement(g,p(p({ref:n},m),{},{components:t})):a.createElement(g,p({ref:n},m))}));function g(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,p=new Array(r);p[0]=k;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[u]="string"==typeof e?e:l,p[1]=o;for(var s=2;s<r;s++)p[s]=t[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}k.displayName="MDXCreateElement"},3241:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>p,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var a=t(7462),l=(t(7294),t(3905));const r={title:"AI \u4ee3\u7406",keywords:["higress","ai","proxy","rag"],description:"AI \u4ee3\u7406\u63d2\u4ef6\u914d\u7f6e\u53c2\u8003"},p=void 0,o={unversionedId:"plugins/ai-proxy",id:"plugins/ai-proxy",title:"AI \u4ee3\u7406",description:"AI \u4ee3\u7406\u63d2\u4ef6\u914d\u7f6e\u53c2\u8003",source:"@site/i18n/zh-cn/docusaurus-plugin-content-docs/current/plugins/ai-proxy.md",sourceDirName:"plugins",slug:"/plugins/ai-proxy",permalink:"/zh-cn/docs/plugins/ai-proxy",draft:!1,editUrl:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/plugins/ai-proxy.md",tags:[],version:"current",frontMatter:{title:"AI \u4ee3\u7406",keywords:["higress","ai","proxy","rag"],description:"AI \u4ee3\u7406\u63d2\u4ef6\u914d\u7f6e\u53c2\u8003"},sidebar:"docs",previous:{title:"\u81ea\u5b9a\u4e49\u63d2\u4ef6",permalink:"/zh-cn/docs/plugins/custom"},next:{title:"JWT \u8ba4\u8bc1",permalink:"/zh-cn/docs/plugins/jwt-auth"}},i={},s=[{value:"\u529f\u80fd\u8bf4\u660e",id:"\u529f\u80fd\u8bf4\u660e",level:2},{value:"\u914d\u7f6e\u5b57\u6bb5",id:"\u914d\u7f6e\u5b57\u6bb5",level:2},{value:"\u57fa\u672c\u914d\u7f6e",id:"\u57fa\u672c\u914d\u7f6e",level:3},{value:"\u63d0\u4f9b\u5546\u7279\u6709\u914d\u7f6e",id:"\u63d0\u4f9b\u5546\u7279\u6709\u914d\u7f6e",level:3},{value:"OpenAI",id:"openai",level:4},{value:"Azure OpenAI",id:"azure-openai",level:4},{value:"\u6708\u4e4b\u6697\u9762\uff08Moonshot\uff09",id:"\u6708\u4e4b\u6697\u9762moonshot",level:4},{value:"\u901a\u4e49\u5343\u95ee\uff08Qwen\uff09",id:"\u901a\u4e49\u5343\u95eeqwen",level:4},{value:"Groq",id:"groq",level:4},{value:"Claude",id:"claude",level:4},{value:"\u7528\u6cd5\u793a\u4f8b",id:"\u7528\u6cd5\u793a\u4f8b",level:2},{value:"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406 Azure OpenAI \u670d\u52a1",id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406-azure-openai-\u670d\u52a1",level:3},{value:"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406\u901a\u4e49\u5343\u95ee\u670d\u52a1",id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406\u901a\u4e49\u5343\u95ee\u670d\u52a1",level:3},{value:"\u4f7f\u7528\u901a\u4e49\u5343\u95ee\u914d\u5408\u7eaf\u6587\u672c\u4e0a\u4e0b\u6587\u4fe1\u606f",id:"\u4f7f\u7528\u901a\u4e49\u5343\u95ee\u914d\u5408\u7eaf\u6587\u672c\u4e0a\u4e0b\u6587\u4fe1\u606f",level:3},{value:"\u4f7f\u7528\u6708\u4e4b\u6697\u9762\u914d\u5408\u5176\u539f\u751f\u7684\u6587\u4ef6\u4e0a\u4e0b\u6587",id:"\u4f7f\u7528\u6708\u4e4b\u6697\u9762\u914d\u5408\u5176\u539f\u751f\u7684\u6587\u4ef6\u4e0a\u4e0b\u6587",level:3},{value:"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406 Groq \u670d\u52a1",id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406-groq-\u670d\u52a1",level:3},{value:"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406 Claude \u670d\u52a1",id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406-claude-\u670d\u52a1",level:3},{value:"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b",id:"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b",level:2}],m={toc:s},u="wrapper";function d(e){let{components:n,...t}=e;return(0,l.kt)(u,(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u529f\u80fd\u8bf4\u660e"},"\u529f\u80fd\u8bf4\u660e"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"AI \u4ee3\u7406")," \u63d2\u4ef6\u5b9e\u73b0\u4e86\u57fa\u4e8e OpenAI API \u5951\u7ea6\u7684 AI \u4ee3\u7406\u529f\u80fd\u3002\u76ee\u524d\u652f\u6301 OpenAI\u3001Azure OpenAI\u3001\u6708\u4e4b\u6697\u9762\uff08Moonshot\uff09\u548c\u901a\u4e49\u5343\u95ee\u7b49 AI\n\u670d\u52a1\u63d0\u4f9b\u5546\u3002"),(0,l.kt)("h2",{id:"\u914d\u7f6e\u5b57\u6bb5"},"\u914d\u7f6e\u5b57\u6bb5"),(0,l.kt)("h3",{id:"\u57fa\u672c\u914d\u7f6e"},"\u57fa\u672c\u914d\u7f6e"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u586b\u5199\u8981\u6c42"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"provider")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"\u914d\u7f6e\u76ee\u6807 AI \u670d\u52a1\u63d0\u4f9b\u5546\u7684\u4fe1\u606f")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"provider")," \u7684\u914d\u7f6e\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u586b\u5199\u8981\u6c42"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"type")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"AI \u670d\u52a1\u63d0\u4f9b\u5546\u540d\u79f0\u3002\u76ee\u524d\u652f\u6301\u4ee5\u4e0b\u53d6\u503c\uff1aopenai, azure, moonshot, qwen, groq, claude")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"apiTokens")),(0,l.kt)("td",{parentName:"tr",align:null},"array of string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7528\u4e8e\u5728\u8bbf\u95ee AI \u670d\u52a1\u65f6\u8fdb\u884c\u8ba4\u8bc1\u7684\u4ee4\u724c\u3002\u5982\u679c\u914d\u7f6e\u4e86\u591a\u4e2a token\uff0c\u63d2\u4ef6\u4f1a\u5728\u8bf7\u6c42\u65f6\u968f\u673a\u8fdb\u884c\u9009\u62e9\u3002\u90e8\u5206\u670d\u52a1\u63d0\u4f9b\u5546\u53ea\u652f\u6301\u914d\u7f6e\u4e00\u4e2a token\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"timeout")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"\u975e\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbf\u95ee AI \u670d\u52a1\u7684\u8d85\u65f6\u65f6\u95f4\u3002\u5355\u4f4d\u4e3a\u6beb\u79d2\u3002\u9ed8\u8ba4\u503c\u4e3a 120000\uff0c\u5373 2 \u5206\u949f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"modelMapping")),(0,l.kt)("td",{parentName:"tr",align:null},"map of string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u975e\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"AI \u6a21\u578b\u6620\u5c04\u8868\uff0c\u7528\u4e8e\u5c06\u8bf7\u6c42\u4e2d\u7684\u6a21\u578b\u540d\u79f0\u6620\u5c04\u4e3a\u670d\u52a1\u63d0\u4f9b\u5546\u652f\u6301\u6a21\u578b\u540d\u79f0\u3002",(0,l.kt)("br",null),'\u53ef\u4ee5\u4f7f\u7528 "*" \u4e3a\u952e\u6765\u914d\u7f6e\u901a\u7528\u515c\u5e95\u6620\u5c04\u5173\u7cfb')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"protocol")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u975e\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"\u63d2\u4ef6\u5bf9\u5916\u63d0\u4f9b\u7684 API \u63a5\u53e3\u5951\u7ea6\u3002\u76ee\u524d\u652f\u6301\u4ee5\u4e0b\u53d6\u503c\uff1aopenai\uff08\u9ed8\u8ba4\u503c\uff0c\u4f7f\u7528 OpenAI \u7684\u63a5\u53e3\u5951\u7ea6\uff09\u3001original\uff08\u4f7f\u7528\u76ee\u6807\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u539f\u59cb\u63a5\u53e3\u5951\u7ea6\uff09")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"context")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"\u975e\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"\u914d\u7f6e AI \u5bf9\u8bdd\u4e0a\u4e0b\u6587\u4fe1\u606f")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"context")," \u7684\u914d\u7f6e\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u586b\u5199\u8981\u6c42"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"fileUrl")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4fdd\u5b58 AI \u5bf9\u8bdd\u4e0a\u4e0b\u6587\u7684\u6587\u4ef6 URL\u3002\u4ec5\u652f\u6301\u7eaf\u6587\u672c\u7c7b\u578b\u7684\u6587\u4ef6\u5185\u5bb9")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"serviceName")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"URL \u6240\u5bf9\u5e94\u7684 Higress \u540e\u7aef\u670d\u52a1\u5b8c\u6574\u540d\u79f0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"servicePort")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"URL \u6240\u5bf9\u5e94\u7684 Higress \u540e\u7aef\u670d\u52a1\u8bbf\u95ee\u7aef\u53e3")))),(0,l.kt)("h3",{id:"\u63d0\u4f9b\u5546\u7279\u6709\u914d\u7f6e"},"\u63d0\u4f9b\u5546\u7279\u6709\u914d\u7f6e"),(0,l.kt)("h4",{id:"openai"},"OpenAI"),(0,l.kt)("p",null,"OpenAI \u6240\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"type")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"openai"),"\u3002\u5b83\u5e76\u65e0\u7279\u6709\u7684\u914d\u7f6e\u5b57\u6bb5\u3002"),(0,l.kt)("h4",{id:"azure-openai"},"Azure OpenAI"),(0,l.kt)("p",null,"Azure OpenAI \u6240\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"type")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"azure"),"\u3002\u5b83\u7279\u6709\u7684\u914d\u7f6e\u5b57\u6bb5\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u586b\u5199\u8981\u6c42"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"azureServiceUrl")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"Azure OpenAI \u670d\u52a1\u7684 URL\uff0c\u987b\u5305\u542b ",(0,l.kt)("inlineCode",{parentName:"td"},"api-version")," \u67e5\u8be2\u53c2\u6570\u3002")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a")," Azure OpenAI \u53ea\u652f\u6301\u914d\u7f6e\u4e00\u4e2a API Token\u3002"),(0,l.kt)("h4",{id:"\u6708\u4e4b\u6697\u9762moonshot"},"\u6708\u4e4b\u6697\u9762\uff08Moonshot\uff09"),(0,l.kt)("p",null,"\u6708\u4e4b\u6697\u9762\u6240\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"type")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"moonshot"),"\u3002\u5b83\u7279\u6709\u7684\u914d\u7f6e\u5b57\u6bb5\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u586b\u5199\u8981\u6c42"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"moonshotFileId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u975e\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"\u901a\u8fc7\u6587\u4ef6\u63a5\u53e3\u4e0a\u4f20\u81f3\u6708\u4e4b\u6697\u9762\u7684\u6587\u4ef6 ID\uff0c\u5176\u5185\u5bb9\u5c06\u88ab\u7528\u505a AI \u5bf9\u8bdd\u7684\u4e0a\u4e0b\u6587\u3002\u4e0d\u53ef\u4e0e ",(0,l.kt)("inlineCode",{parentName:"td"},"context")," \u5b57\u6bb5\u540c\u65f6\u914d\u7f6e\u3002")))),(0,l.kt)("h4",{id:"\u901a\u4e49\u5343\u95eeqwen"},"\u901a\u4e49\u5343\u95ee\uff08Qwen\uff09"),(0,l.kt)("p",null,"\u901a\u4e49\u5343\u95ee\u6240\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"type")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"qwen"),"\u3002\u5b83\u5e76\u65e0\u7279\u6709\u7684\u914d\u7f6e\u5b57\u6bb5\u3002"),(0,l.kt)("h4",{id:"groq"},"Groq"),(0,l.kt)("p",null,"Groq \u6240\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"type")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"groq"),"\u3002\u5b83\u5e76\u65e0\u7279\u6709\u7684\u914d\u7f6e\u5b57\u6bb5\u3002"),(0,l.kt)("h4",{id:"claude"},"Claude"),(0,l.kt)("p",null,"\u6708\u4e4b\u6697\u9762\u6240\u5bf9\u5e94\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"type")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"claude"),"\u3002\u5b83\u7279\u6709\u7684\u914d\u7f6e\u5b57\u6bb5\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u586b\u5199\u8981\u6c42"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"version")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"Claude \u670d\u52a1\u7684 API \u7248\u672c")))),(0,l.kt)("h2",{id:"\u7528\u6cd5\u793a\u4f8b"},"\u7528\u6cd5\u793a\u4f8b"),(0,l.kt)("h3",{id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406-azure-openai-\u670d\u52a1"},"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406 Azure OpenAI \u670d\u52a1"),(0,l.kt)("p",null,"\u4f7f\u7528\u6700\u57fa\u672c\u7684 Azure OpenAI \u670d\u52a1\uff0c\u4e0d\u914d\u7f6e\u4efb\u4f55\u4e0a\u4e0b\u6587\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'provider:\n  type: azure\n  apiTokens:\n    - "YOUR_AZURE_OPENAI_API_TOKEN"\n  azureServiceUrl: "https://YOUR_RESOURCE_NAME.openai.azure.com/openai/deployments/YOUR_DEPLOYMENT_NAME/chat/completions?api-version=2024-02-15-preview",\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bf7\u6c42\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "model": "gpt-3",\n  "messages": [\n    {\n      "role": "user",\n      "content": "\u4f60\u597d\uff0c\u4f60\u662f\u8c01\uff1f"\n    }\n  ],\n  "temperature": 0.3\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "choices": [\n    {\n      "content_filter_results": {\n        "hate": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "self_harm": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "sexual": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "violence": {\n          "filtered": false,\n          "severity": "safe"\n        }\n      },\n      "finish_reason": "stop",\n      "index": 0,\n      "logprobs": null,\n      "message": {\n        "content": "\u4f60\u597d\uff01\u6211\u662f\u4e00\u4e2aAI\u52a9\u624b\uff0c\u53ef\u4ee5\u56de\u7b54\u4f60\u7684\u95ee\u9898\u548c\u63d0\u4f9b\u5e2e\u52a9\u3002\u6709\u4ec0\u4e48\u6211\u53ef\u4ee5\u5e2e\u5230\u4f60\u7684\u5417\uff1f",\n        "role": "assistant"\n      }\n    }\n  ],\n  "created": 1714807624,\n  "id": "chatcmpl-abcdefg1234567890",\n  "model": "gpt-35-turbo-16k",\n  "object": "chat.completion",\n  "prompt_filter_results": [\n    {\n      "prompt_index": 0,\n      "content_filter_results": {\n        "hate": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "self_harm": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "sexual": {\n          "filtered": false,\n          "severity": "safe"\n        },\n        "violence": {\n          "filtered": false,\n          "severity": "safe"\n        }\n      }\n    }\n  ],\n  "system_fingerprint": null,\n  "usage": {\n    "completion_tokens": 40,\n    "prompt_tokens": 15,\n    "total_tokens": 55\n  }\n}\n')),(0,l.kt)("h3",{id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406\u901a\u4e49\u5343\u95ee\u670d\u52a1"},"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406\u901a\u4e49\u5343\u95ee\u670d\u52a1"),(0,l.kt)("p",null,"\u4f7f\u7528\u901a\u4e49\u5343\u95ee\u670d\u52a1\uff0c\u5e76\u914d\u7f6e\u4ece OpenAI \u5927\u6a21\u578b\u5230\u901a\u4e49\u5343\u95ee\u7684\u6a21\u578b\u6620\u5c04\u5173\u7cfb\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'provider:\n  type: qwen\n  apiTokens:\n    - "YOUR_QWEN_API_TOKEN"\n  modelMapping:\n    \'gpt-3\': "qwen-turbo"\n    \'gpt-35-turbo\': "qwen-plus"\n    \'gpt-4-turbo\': "qwen-max"\n    \'*\': "qwen-turbo"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bf7\u6c42\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "model": "gpt-3",\n  "messages": [\n    {\n      "role": "user",\n      "content": "\u4f60\u597d\uff0c\u4f60\u662f\u8c01\uff1f"\n    }\n  ],\n  "temperature": 0.3\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "c2518bd3-0f46-97d1-be34-bb5777cb3108",\n  "choices": [\n    {\n      "index": 0,\n      "message": {\n        "role": "assistant",\n        "content": "\u6211\u662f\u901a\u4e49\u5343\u95ee\uff0c\u7531\u963f\u91cc\u4e91\u5f00\u53d1\u7684AI\u52a9\u624b\u3002\u6211\u53ef\u4ee5\u56de\u7b54\u5404\u79cd\u95ee\u9898\u3001\u63d0\u4f9b\u4fe1\u606f\u548c\u4e0e\u7528\u6237\u8fdb\u884c\u5bf9\u8bdd\u3002\u6709\u4ec0\u4e48\u6211\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7684\u5417\uff1f"\n      },\n      "finish_reason": "stop"\n    }\n  ],\n  "created": 1715175072,\n  "model": "qwen-turbo",\n  "object": "chat.completion",\n  "usage": {\n    "prompt_tokens": 24,\n    "completion_tokens": 33,\n    "total_tokens": 57\n  }\n}\n')),(0,l.kt)("h3",{id:"\u4f7f\u7528\u901a\u4e49\u5343\u95ee\u914d\u5408\u7eaf\u6587\u672c\u4e0a\u4e0b\u6587\u4fe1\u606f"},"\u4f7f\u7528\u901a\u4e49\u5343\u95ee\u914d\u5408\u7eaf\u6587\u672c\u4e0a\u4e0b\u6587\u4fe1\u606f"),(0,l.kt)("p",null,"\u4f7f\u7528\u901a\u4e49\u5343\u95ee\u670d\u52a1\uff0c\u540c\u65f6\u914d\u7f6e\u7eaf\u6587\u672c\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'provider:\n  type: qwen\n  apiTokens:\n    - "YOUR_QWEN_API_TOKEN"\n  modelMapping:\n    "*": "qwen-turbo"\n  context:\n    - fileUrl: "http://file.default.svc.cluster.local/ai/context.txt",\n      serviceName: "file.dns",\n      servicePort: 80\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bf7\u6c42\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "model": "gpt-3",\n  "messages": [\n    {\n      "role": "user",\n      "content": "\u8bf7\u6982\u8ff0\u6587\u6848\u5185\u5bb9"\n    }\n  ],\n  "temperature": 0.3\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "cmpl-77861a17681f4987ab8270dbf8001936",\n  "object": "chat.completion",\n  "created": 9756990,\n  "model": "moonshot-v1-128k",\n  "choices": [\n    {\n      "index": 0,\n      "message": {\n        "role": "assistant",\n        "content": "\u8fd9\u4efd\u6587\u6848\u662f\u4e00\u4efd\u5173\u4e8e..."\n      },\n      "finish_reason": "stop"\n    }\n  ],\n  "usage": {\n    "prompt_tokens": 20181,\n    "completion_tokens": 439,\n    "total_tokens": 20620\n  }\n}\n')),(0,l.kt)("h3",{id:"\u4f7f\u7528\u6708\u4e4b\u6697\u9762\u914d\u5408\u5176\u539f\u751f\u7684\u6587\u4ef6\u4e0a\u4e0b\u6587"},"\u4f7f\u7528\u6708\u4e4b\u6697\u9762\u914d\u5408\u5176\u539f\u751f\u7684\u6587\u4ef6\u4e0a\u4e0b\u6587"),(0,l.kt)("p",null,"\u63d0\u524d\u4e0a\u4f20\u6587\u4ef6\u81f3\u6708\u4e4b\u6697\u9762\uff0c\u4ee5\u6587\u4ef6\u5185\u5bb9\u4f5c\u4e3a\u4e0a\u4e0b\u6587\u4f7f\u7528\u5176 AI \u670d\u52a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'provider:\n  type: moonshot\n  apiTokens:\n    - "YOUR_MOONSHOT_API_TOKEN"\n  moonshotFileId: "YOUR_MOONSHOT_FILE_ID",\n  modelMapping:\n    \'*\': "moonshot-v1-32k"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bf7\u6c42\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "model": "gpt-4-turbo",\n  "messages": [\n    {\n      "role": "user",\n      "content": "\u8bf7\u6982\u8ff0\u6587\u6848\u5185\u5bb9"\n    }\n  ],\n  "temperature": 0.3\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "cmpl-e5ca873642ca4f5d8b178c1742f9a8e8",\n  "object": "chat.completion",\n  "created": 1872961,\n  "model": "moonshot-v1-128k",\n  "choices": [\n    {\n      "index": 0,\n      "message": {\n        "role": "assistant",\n        "content": "\u6587\u6848\u5185\u5bb9\u662f\u5173\u4e8e\u4e00\u4e2a\u540d\u4e3a\u201cxxxx\u201d\u7684\u652f\u4ed8\u5e73\u53f0..."\n      },\n      "finish_reason": "stop"\n    }\n  ],\n  "usage": {\n    "prompt_tokens": 11,\n    "completion_tokens": 498,\n    "total_tokens": 509\n  }\n}\n')),(0,l.kt)("h3",{id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406-groq-\u670d\u52a1"},"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406 Groq \u670d\u52a1"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'provider:\n  type: groq\n  apiTokens:\n    - "YOUR_GROQ_API_TOKEN"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bf7\u6c42\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "model": "llama3-8b-8192",\n  "messages": [\n    {\n      "role": "user",\n      "content": "\u4f60\u597d\uff0c\u4f60\u662f\u8c01\uff1f"\n    }\n  ]\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "chatcmpl-26733989-6c52-4056-b7a9-5da791bd7102",\n  "object": "chat.completion",\n  "created": 1715917967,\n  "model": "llama3-8b-8192",\n  "choices": [\n    {\n      "index": 0,\n      "message": {\n        "role": "assistant",\n        "content": "\ud83d\ude0a Ni Hao! (That\'s \\"hello\\" in Chinese!)\\n\\nI am LLaMA, an AI assistant developed by Meta AI that can understand and respond to human input in a conversational manner. I\'m not a human, but a computer program designed to simulate conversations and answer questions to the best of my ability. I\'m happy to chat with you in Chinese or help with any questions or topics you\'d like to discuss! \ud83d\ude0a"\n      },\n      "logprobs": null,\n      "finish_reason": "stop"\n    }\n  ],\n  "usage": {\n    "prompt_tokens": 16,\n    "prompt_time": 0.005,\n    "completion_tokens": 89,\n    "completion_time": 0.104,\n    "total_tokens": 105,\n    "total_time": 0.109\n  },\n  "system_fingerprint": "fp_dadc9d6142",\n  "x_groq": {\n    "id": "req_01hy2awmcxfpwbq56qh6svm7qz"\n  }\n}\n')),(0,l.kt)("h3",{id:"\u4f7f\u7528-openai-\u534f\u8bae\u4ee3\u7406-claude-\u670d\u52a1"},"\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406 Claude \u670d\u52a1"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'provider:\n  type: claude\n  apiTokens:\n    - "YOUR_CLAUDE_API_TOKEN"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bf7\u6c42\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "model": "claude-3-opus-20240229",\n  "max_tokens": 1024,\n  "messages": [\n    {\n      "role": "user",\n      "content": "\u4f60\u597d\uff0c\u4f60\u662f\u8c01\uff1f"\n    }\n  ]\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u793a\u4f8b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "msg_01K8iLH18FGN7Xd9deurwtoD",\n  "type": "message",\n  "role": "assistant",\n  "model": "claude-3-opus-20240229",\n  "stop_sequence": null,\n  "usage": {\n    "input_tokens": 16,\n    "output_tokens": 141\n  },\n  "content": [\n    {\n      "type": "text",\n      "text": "\u4f60\u597d!\u6211\u662fClaude,\u4e00\u4e2a\u7531Anthropic\u516c\u53f8\u5f00\u53d1\u7684\u4eba\u5de5\u667a\u80fd\u52a9\u624b\u3002\u6211\u7684\u4efb\u52a1\u662f\u5c3d\u6211\u6240\u80fd\u5e2e\u52a9\u4eba\u7c7b,\u6bd4\u5982\u56de\u7b54\u95ee\u9898,\u63d0\u4f9b\u5efa\u8bae\u548c\u610f\u89c1,\u534f\u52a9\u5b8c\u6210\u4efb\u52a1\u7b49\u3002\u6211\u638c\u63e1\u4e86\u5f88\u591a\u77e5\u8bc6,\u4e5f\u5177\u5907\u4e00\u5b9a\u7684\u5206\u6790\u548c\u63a8\u7406\u80fd\u529b,\u4f46\u6211\u4e0d\u662f\u4eba\u7c7b,\u4e5f\u6ca1\u6709\u5b9e\u4f53\u7684\u8eab\u4f53\u3002\u5f88\u9ad8\u5174\u8ba4\u8bc6\u4f60!\u5982\u679c\u6709\u4ec0\u4e48\u9700\u8981\u5e2e\u52a9\u7684\u5730\u65b9,\u6b22\u8fce\u968f\u65f6\u544a\u8bc9\u6211\u3002"\n    }\n  ],\n  "stop_reason": "end_turn"\n}\n')),(0,l.kt)("h2",{id:"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b"},"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u4ee5\u4f7f\u7528 OpenAI \u534f\u8bae\u4ee3\u7406 Groq \u670d\u52a1\u4e3a\u4f8b\uff0c\u5c55\u793a\u5b8c\u6574\u7684\u63d2\u4ef6\u914d\u7f6e\u793a\u4f8b\u3002\u6784\u5efa ai-proxy \u7684 wasm \u955c\u50cf\u7684\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003",(0,l.kt)("a",{parentName:"p",href:"../plugins/custom#%E6%9E%84%E5%BB%BA-wasm-%E9%95%9C%E5%83%8F"},"\u8fd9\u91cc"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: extensions.higress.io/v1alpha1\nkind: WasmPlugin\nmetadata:\n  name: ai-proxy-groq\n  namespace: higress-system\nspec:\n  matchRules:\n  - config:\n      provider:\n        type: groq\n        apiTokens: \n          - "YOUR_API_TOKEN"\n    ingress:\n    - groq\n  url: oci://<YOUR-WASM-IMAGE>\n---\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  annotations:\n    higress.io/backend-protocol: HTTPS\n    higress.io/destination: groq.dns\n    higress.io/proxy-ssl-name: api.groq.com\n    higress.io/proxy-ssl-server-name: "on"\n  labels:\n    higress.io/resource-definer: higress\n  name: groq\n  namespace: higress-system\nspec:\n  ingressClassName: higress\n  rules:\n  - host: <YOUR-DOMAIN> \n    http:\n      paths:\n      - backend:\n          resource:\n            apiGroup: networking.higress.io\n            kind: McpBridge\n            name: default\n        path: /\n        pathType: Prefix\n---\napiVersion: networking.higress.io/v1\nkind: McpBridge\nmetadata:\n  name: default\n  namespace: higress-system\nspec:\n  registries:\n  - domain: api.groq.com\n    name: groq\n    port: 443\n    type: dns\n')),(0,l.kt)("p",null,"\u8bbf\u95ee\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'curl "http://<YOUR-DOMAIN>/v1/chat/completions" -H "Content-Type: application/json" -d \'{\n  "model": "llama3-8b-8192",\n  "messages": [\n    {\n      "role": "user",\n      "content": "\u4f60\u597d\uff0c\u4f60\u662f\u8c01\uff1f"\n    }\n  ]\n}\'\n')))}d.isMDXComponent=!0}}]);