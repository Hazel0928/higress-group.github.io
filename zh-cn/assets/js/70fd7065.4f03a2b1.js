"use strict";(self.webpackChunkhigress_website=self.webpackChunkhigress_website||[]).push([[9096],{3905:(e,l,s)=>{s.d(l,{Zo:()=>p,kt:()=>m});var n=s(7294);function t(e,l,s){return l in e?Object.defineProperty(e,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[l]=s,e}function a(e,l){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);l&&(n=n.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.push.apply(s,n)}return s}function r(e){for(var l=1;l<arguments.length;l++){var s=null!=arguments[l]?arguments[l]:{};l%2?a(Object(s),!0).forEach((function(l){t(e,l,s[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))}))}return e}function o(e,l){if(null==e)return{};var s,n,t=function(e,l){if(null==e)return{};var s,n,t={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],l.indexOf(s)>=0||(t[s]=e[s]);return t}(e,l);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],l.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}var i=n.createContext({}),c=function(e){var l=n.useContext(i),s=l;return e&&(s="function"==typeof e?e(l):r(r({},l),e)),s},p=function(e){var l=c(e.components);return n.createElement(i.Provider,{value:l},e.children)},g="mdxType",h={inlineCode:"code",wrapper:function(e){var l=e.children;return n.createElement(n.Fragment,{},l)}},u=n.forwardRef((function(e,l){var s=e.components,t=e.mdxType,a=e.originalType,i=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),g=c(s),u=t,m=g["".concat(i,".").concat(u)]||g[u]||h[u]||a;return s?n.createElement(m,r(r({ref:l},p),{},{components:s})):n.createElement(m,r({ref:l},p))}));function m(e,l){var s=arguments,t=l&&l.mdxType;if("string"==typeof e||t){var a=s.length,r=new Array(a);r[0]=u;var o={};for(var i in l)hasOwnProperty.call(l,i)&&(o[i]=l[i]);o.originalType=e,o[g]="string"==typeof e?e:t,r[1]=o;for(var c=2;c<a;c++)r[c]=s[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,s)}u.displayName="MDXCreateElement"},8730:(e,l,s)=>{s.r(l),s.d(l,{assets:()=>i,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var n=s(7462),t=(s(7294),s(3905));const a={title:"hgctl \u5de5\u5177\u4f7f\u7528\u8bf4\u660e",keywords:["Ingress"],description:"hgctl \u5de5\u5177\u4f7f\u7528\u8bf4\u660e\u3002",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/ops/hgctl.md"},r="\u5982\u4f55\u4e0b\u8f7d hgctl",o={unversionedId:"ops/hgctl",id:"ops/hgctl",title:"hgctl \u5de5\u5177\u4f7f\u7528\u8bf4\u660e",description:"hgctl \u5de5\u5177\u4f7f\u7528\u8bf4\u660e\u3002",source:"@site/i18n/zh-cn/docusaurus-plugin-content-docs/current/ops/hgctl.md",sourceDirName:"ops",slug:"/ops/hgctl",permalink:"/zh-cn/docs/ops/hgctl",draft:!1,editUrl:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/ops/hgctl.md",tags:[],version:"current",frontMatter:{title:"hgctl \u5de5\u5177\u4f7f\u7528\u8bf4\u660e",keywords:["Ingress"],description:"hgctl \u5de5\u5177\u4f7f\u7528\u8bf4\u660e\u3002",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/ops/hgctl.md"},sidebar:"docs",previous:{title:"\u5f00\u542f WAF \u9632\u62a4\u7684\u6700\u4f73\u5b9e\u8df5",permalink:"/zh-cn/docs/user/waf"},next:{title:"\u4f7f\u7528 Helm \u8fdb\u884c\u4e91\u539f\u751f\u90e8\u7f72",permalink:"/zh-cn/docs/ops/deploy-by-helm"}},i={},c=[{value:"1. \u67e5\u770b\u9ed8\u8ba4 profile \u5217\u8868\u548c\u5bfc\u51fa profile",id:"1-\u67e5\u770b\u9ed8\u8ba4-profile-\u5217\u8868\u548c\u5bfc\u51fa-profile",level:3},{value:"2. \u5185\u7f6e\u4e09\u4e2a profile \u914d\u7f6e\u9879\u8bf4\u660e",id:"2-\u5185\u7f6e\u4e09\u4e2a-profile-\u914d\u7f6e\u9879\u8bf4\u660e",level:3},{value:"\u5b89\u88c5\u6837\u4f8b\u8bf4\u660e",id:"\u5b89\u88c5\u6837\u4f8b\u8bf4\u660e",level:3}],p={toc:c},g="wrapper";function h(e){let{components:l,...s}=e;return(0,t.kt)(g,(0,n.Z)({},p,s,{components:l,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"\u5982\u4f55\u4e0b\u8f7d-hgctl"},"\u5982\u4f55\u4e0b\u8f7d hgctl"),(0,t.kt)("p",null,"\u901a\u8fc7 curl \u547d\u4ee4\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684 hgctl \u5230\u672c\u5730"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"  curl -Ls https://raw.githubusercontent.com/alibaba/higress/main/tools/hack/get-hgctl.sh | VERSION=latest bash\n")),(0,t.kt)("h1",{id:"\u4e00\u5b89\u88c5-profile-\u8bf4\u660e"},"\u4e00\u3001\u5b89\u88c5 Profile \u8bf4\u660e"),(0,t.kt)("p",null,"higress \u76ee\u524d\u652f\u6301\u4e09\u4e2a\u5185\u7f6e\u9884\u5b9a\u4e49 profile \u5305\u62ec: local-k8s , k8s, local-docker\u3002"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"local-k8s profile \u5b89\u88c5 higress \u5230\u672c\u5730 k8s \u96c6\u7fa4\u6bd4\u5982 kind \u96c6\u7fa4\uff0c\u4e3b\u8981\u7528\u4e8e\u5f00\u53d1\u548c\u6d4b\u8bd5 higress \u529f\u80fd\u3002 \u9ed8\u8ba4\u5b89\u88c5 higress \u6838\u5fc3\u7ec4\u4ef6\u5916\uff0c\u8fd8\u5b89\u88c5\u5305\u62ec\u53ef\u89c2\u6d4b\u7ec4\u4ef6\uff08Grafana + Promethues\uff09, IstioAPI, GatewayAPI\u7ec4\u4ef6\u3002"),(0,t.kt)("li",{parentName:"ul"},"k8s profile \u5b89\u88c5 higress \u5230 k8s \u96c6\u7fa4, \u9ed8\u8ba4\u53ea\u5b89\u88c5 higress \u6838\u5fc3\u7ec4\u4ef6\u3002"),(0,t.kt)("li",{parentName:"ul"},"local-docker profile \u5b89\u88c5 higress \u5230\u672c\u5730 docker \u73af\u5883\u3002")),(0,t.kt)("h3",{id:"1-\u67e5\u770b\u9ed8\u8ba4-profile-\u5217\u8868\u548c\u5bfc\u51fa-profile"},"1. \u67e5\u770b\u9ed8\u8ba4 profile \u5217\u8868\u548c\u5bfc\u51fa profile"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\u67e5\u770b profile \u5217\u8868")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"hgctl profile list\n\nhigress configuration profiles:\n    k8s\n    local-docker\n    local-k8s\n")),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\u5bfc\u51fa profile local-k8s profile \u5230\u672c\u5730 local-k8s.yaml \u6587\u4ef6")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"hgctl profile dump local-k8s -o ./local-k8s.yaml\n")),(0,t.kt)("h3",{id:"2-\u5185\u7f6e\u4e09\u4e2a-profile-\u914d\u7f6e\u9879\u8bf4\u660e"},"2. \u5185\u7f6e\u4e09\u4e2a profile \u914d\u7f6e\u9879\u8bf4\u660e"),(0,t.kt)("p",null,"profile \u5185\u5bb9\u5305\u542b global, console, gateway, controller, storage, values , charts \u4e03\u5927\u914d\u7f6e\u9879\u3002"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"local-k8s profile")),(0,t.kt)("p",null,"local-k8s profile \u5177\u4f53\u5185\u5bb9\u548c\u8bf4\u660e\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yaml"},"profile: local-k8s # profile \u540d\u79f0\nglobal:\n  install: local-k8s # \u5b89\u88c5\u6a21\u5f0f k8s/local-k8s/local-docker\n  ingressClass: higress # \u7528\u4e8e\u8fc7\u6ee4\u88ab Higress Controller \u76d1\u542c\u7684 Ingress \u8d44\u6e90\u7684 IngressClass\u3002\n  enableIstioAPI: true  # \u82e5\u4e3atrue\uff0cHigress Controller \u5c06\u540c\u65f6\u76d1\u542c istio \u8d44\u6e90\n  enableGatewayAPI: true # \u82e5\u4e3atrue \u6fc0\u6d3b gateway api\n  namespace: higress-system # higress \u5b89\u88c5\u5230\u7684\u547d\u540d\u7a7a\u95f4\n\nconsole:\n  replicas: 1 # Higress Console \u7684 pod \u6570\u91cf\n  o11yEnabled: true # \u82e5\u4e3a true\uff0c\u5c06\u540c\u65f6\u5b89\u88c5\u53ef\u89c2\u6d4b\u6027\u5957\u4ef6\uff08Grafana + Promethues\uff09\n\ngateway:\n  replicas: 1 # Higress Gateway \u7684 pod \u6570\u91cf\n\ncontroller:\n  replicas: 1 # Higress Controller \u7684 pod \u6570\u91cf\n\n# \u5176\u4ed6\u81ea\u5b9a\u4e49\u7684 helm values \nvalues:\n\ncharts:\n  higress:\n    url: https://higress.io/helm-charts # higress helm chart repo \u5730\u5740\n    name: higress  # higress helm chart \u540d\u79f0\n    version: latest # higress helm chart \u7248\u672c\n  standalone:\n    url: https://higress.io/standalone/get-higress.sh # higress standalone \u5b89\u88c5\u5668\u5730\u5740\n    name: standalone  # higress standalone \u5b89\u88c5\u5668\u540d\u79f0\n    version: latest   # higress standalone \u5b89\u88c5\u5668\u7248\u672c\n")),(0,t.kt)("ol",{start:2},(0,t.kt)("li",{parentName:"ol"},"k8s profile")),(0,t.kt)("p",null,"k8s profile  \u548c local-k8s profile \u5dee\u5f02\u4e3b\u8981\u5728\u53ef\u89c2\u6d4b\u7ec4\u4ef6\uff08Grafana + Promethues\uff09, IstioAPI, GatewayAPI \u9ed8\u8ba4\u662f\u6ca1\u6709\u6fc0\u6d3b\uff0c\u5982\u679c\u9700\u8981\u8fd9\u4e9b\u529f\u80fd\uff0c\u9700\u8981\u5728\u5b89\u88c5\u65f6\u8bbe\u7f6e\u8fd9\u4e9b\u5c5e\u6027"),(0,t.kt)("p",null,"k8s profile \u5177\u4f53\u5185\u5bb9\u548c\u8bf4\u660e\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yaml"},"profile: k8s # profile \u540d\u79f0\nglobal:\n  install: k8s # \u5b89\u88c5\u6a21\u5f0f k8s/local-k8s/local-docker\n  ingressClass: higress # \u7528\u4e8e\u8fc7\u6ee4\u88ab Higress Controller \u76d1\u542c\u7684 Ingress \u8d44\u6e90\u7684 IngressClass\u3002\n  enableIstioAPI: false  # \u82e5\u4e3atrue\uff0cHigress Controller \u5c06\u540c\u65f6\u76d1\u542c istio \u8d44\u6e90\n  enableGatewayAPI: false # \u82e5\u4e3atrue \u6fc0\u6d3b gateway api\n  namespace: higress-system # higress \u5b89\u88c5\u5230\u7684\u547d\u540d\u7a7a\u95f4\n\nconsole:\n  replicas: 1 # Higress Console \u7684 pod \u6570\u91cf\n  o11yEnabled: false # \u82e5\u4e3a true\uff0c\u5c06\u540c\u65f6\u5b89\u88c5\u53ef\u89c2\u6d4b\u6027\u5957\u4ef6\uff08Grafana + Promethues\uff09\n\ngateway:\n  replicas: 2 # Higress Gateway \u7684 pod \u6570\u91cf\n\ncontroller:\n  replicas: 1 # Higress Controller \u7684 pod \u6570\u91cf\n\n# \u5176\u4ed6\u81ea\u5b9a\u4e49\u7684 helm values \nvalues:\n\ncharts:\n  higress:\n    url: https://higress.io/helm-charts # higress helm chart repo \u5730\u5740\n    name: higress     # higress helm chart \u540d\u79f0\n    version: latest   # higress helm chart \u7248\u672c\n  standalone:\n    url: https://higress.io/standalone/get-higress.sh # higress standalone \u5b89\u88c5\u5668\u5730\u5740\n    name: standalone  # higress standalone \u5b89\u88c5\u5668\u540d\u79f0\n    version: latest   # higress standalone \u5b89\u88c5\u5668\u7248\u672c\n")),(0,t.kt)("ol",{start:3},(0,t.kt)("li",{parentName:"ol"},"local-docker profile")),(0,t.kt)("p",null,"local-docker profile \u5177\u4f53\u5185\u5bb9\u548c\u8bf4\u660e\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yaml"},"profile: local-docker # profile \u540d\u79f0\nglobal:\n  install: local-docker # \u5b89\u88c5\u6a21\u5f0f k8s/local-k8s/local-docker\n  \nconsole:\n  port: 8080 # console \u76d1\u542c\u7aef\u53e3\n\ngateway:\n  httpPort: 80 # gateway \u76d1\u542c http \u7aef\u53e3\n  httpsPort: 443 # gateway \u76d1\u542c https \u7aef\u53e3\n  metricsPort: 15020 # gateway \u6307\u6807\u8f93\u51fa\u76d1\u542c\u7aef\u53e3\n\ncontroller:\n\n# \u540e\u7aef\u5b58\u50a8\u7cfb\u7edf\u8bbe\u7f6e\uff0c\u73b0\u5728\u652f\u6301\u6587\u4ef6\u7cfb\u7edf\u548c nacos\nstorage: \n  url: file://${INSTALLPACKAGEPATH}/conf  # \u914d\u7f6e\u670d\u52a1\u7684 URL\u3002\u82e5\u4f7f\u7528\u72ec\u7acb\u90e8\u7f72\u7684 Nacos \u670d\u52a1\uff08\u7248\u672c\u4e0d\u4f4e\u4e8e 2.0.0\uff09\uff0cURL \u683c\u5f0f\u4e3a\uff1anacos://192.168.0.1:8848 - \u82e5\u5728\u672c\u5730\u78c1\u76d8\u4e0a\u4fdd\u5b58\u914d\u7f6e\uff0cURL \u683c\u5f0f\u4e3a\uff1afile://opt/higress/conf\n  ns: higress-system # \u7528\u4e8e\u4fdd\u5b58 Higress \u914d\u7f6e\u7684 Nacos \u547d\u540d\u7a7a\u95f4 ID\n  username:  # \u7528\u4e8e\u8bbf\u95ee Nacos \u7684\u7528\u6237\u540d\u3002\u4ec5\u7528\u4e8e Nacos \u542f\u52a8\u4e86\u8ba4\u8bc1\u7684\u60c5\u51b5\u4e0b\n  password:  # \u7528\u4e8e\u8bbf\u95ee Nacos \u7684\u7528\u6237\u5bc6\u7801\u3002\u4ec5\u7528\u4e8e Nacos \u542f\u52a8\u4e86\u8ba4\u8bc1\u7684\u60c5\u51b5\u4e0b\n  dataEncKey: # \u7528\u4e8e\u52a0\u5bc6\u654f\u611f\u914d\u7f6e\u6570\u636e\u7684\u5bc6\u94a5\u3002\u957f\u5ea6\u5fc5\u987b\u4e3a 32 \u4e2a\u5b57\u7b26\u3002\u82e5\u672a\u8bbe\u7f6e\uff0cHigress \u5c06\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u968f\u673a\u7684\u5bc6\u94a5\u3002\u82e5\u9700\u96c6\u7fa4\u90e8\u7f72\uff0c\u6b64\u9879\u5fc5\u987b\u8bbe\u7f6e\n\ncharts:\n  higress:\n    url: https://higress.io/helm-charts # higress helm chart repo \u5730\u5740\n    name: higress     # higress helm chart \u540d\u79f0\n    version: latest   # higress helm chart \u7248\u672c\n  standalone:\n    url: https://higress.io/standalone/get-higress.sh # higress standalone \u5b89\u88c5\u5668\u5730\u5740\n    name: standalone  # higress standalone \u5b89\u88c5\u5668\u540d\u79f0\n    version: latest   # higress standalone \u5b89\u88c5\u5668\u7248\u672c\n")),(0,t.kt)("p",null,"\u914d\u7f6e\u670d\u52a1\u7684 URL \u9ed8\u8ba4 file://${INSTALLPACKAGEPATH}/conf \u662f\u4fdd\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e0b\uff0c \u5176\u4e2d ${INSTALLPACKAGEPATH} \u662f\u5f53\u524d\u5b89\u88c5\u4e0b higress-standalone\u76ee\u5f55\u4e0b\u521b\u5efa conf \u76ee\u5f55"),(0,t.kt)("h1",{id:"\u4e8c\u5b89\u88c5\u547d\u4ee4-hgctl-install"},"\u4e8c\u3001\u5b89\u88c5\u547d\u4ee4\uff1a hgctl install"),(0,t.kt)("p",null,"hgctl install \u5b89\u88c5\u547d\u4ee4\u5177\u4f53\u53c2\u6570\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'hgctl install --help\nThe install command generates an higress install manifest and applies it to a cluster.\n\nUsage:\n  hgctl install [flags]\n\nExamples:\n  # Apply a default higress installation\n  hgctl install\n\n  # Install higress on local kubernetes cluster \n  hgctl install --set profile=local-k8s \n\n  # Install higress on local docker environment with specific gateway port\n  hgctl install --set profile=local-docker --set gateway.httpPort=80 --set gateway.httpsPort=443\n\n  # To override profile setting\n  hgctl install --set profile=local-k8s  --set global.enableIstioAPI=true --set gateway.replicas=2"\n  \n  # To override helm setting\n  hgctl install --set profile=local-k8s  --set values.global.proxy.resources.requsts.cpu=500m"\n  \nFlags:\n      --context string      The name of the kubeconfig context to use.\n  -f, --filename strings    Path to file containing helm custom values\n  -h, --help                help for install\n      --kubeconfig string   Path to the kubeconfig file to use for CLI requests.\n  -d, --manifests string    Specify a path to a directory of profiles\n                            (e.g. ~/Downloads/higress/manifests).\n  -s, --set stringArray     Override an higress profile value, e.g. override profile values (--set gateway.replicas=2), or override helm values (--set values.global.proxy.resources.requsts.cpu=500m).\n\n')),(0,t.kt)("p",null,"\u5b89\u88c5\u53c2\u6570\u8bf4\u660e\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"hgctl install \u6838\u5fc3\u53c2\u6570\u5c31\u662f\u4e24\u4e2a -s (--set) \u548c -f (--filename) \u3002")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"--set \u53c2\u6570\u662f\u8bbe\u7f6e profile \u914d\u7f6e\u9879\u7684\u503c\uff0c -f \u4f20\u5165 helm \u81ea\u5b9a\u4e49 values \u503c\u7684 yaml \u6587\u4ef6\u5730\u5740\u3002")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"\u901a\u8fc7 -s profile=profile \u5185\u7f6e profile \u540d\u79f0\u6216\u8005 profile yaml \u6587\u4ef6\u5730\u5740\u6765\u6307\u5b9a\u5b89\u88c5 profile \u6765\u6e90\u3002")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"\u5b89\u88c5\u6210\u529f\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u7528\u6237 $HOME \u76ee\u5f55\u4e0b\u5199\u5165\u5f53\u524d\u5b89\u88c5\u7684profile\u914d\u7f6e  ~/.hgctl/profiles/install.yaml \uff0c \u5347\u7ea7\u65f6\u6839\u636e\u8fd9\u4e2a profile \u6765\u5347\u7ea7\u3002\uff08\u540e\u7eed\u7248\u672c\u4f1a\u6709\u53d8\u5316\uff09"))),(0,t.kt)("h3",{id:"\u5b89\u88c5\u6837\u4f8b\u8bf4\u660e"},"\u5b89\u88c5\u6837\u4f8b\u8bf4\u660e"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"\u9ed8\u8ba4\u5b89\u88c5")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"hgctl install\n\nPlease select higress install configration profile:\n\n1.Install higress to local kubernetes cluster like kind etc.\n\n2.Install higress to kubernetes cluster\n\n3.Install higress to local docker environment\n\nPlease input 1, 2 or 3 to select, input your selection:\n")),(0,t.kt)("p",null,"\u9ed8\u8ba4\u5b89\u88c5\u6ca1\u6709\u6307\u5b9a profile, \u4f1a\u63d0\u793a\u9009\u62e9\u5b89\u88c5 profile\u3002"),(0,t.kt)("ol",{start:2},(0,t.kt)("li",{parentName:"ol"},"\u6307\u5b9a k8s profile \u5b89\u88c5 \uff0c \u540c\u65f6\u6fc0\u6d3b IstioAPI\uff0c GatewayAPI \u548c helm values \u81ea\u5b9a\u4e49 console \u548c gateway resources \u914d\u7f6e\u3002")),(0,t.kt)("p",null,"\u81ea\u5b9a\u4e49 helm values.yaml \u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yaml"},"global:\n  istioNamespace: istio-system\n  \nhigress-console:\n  resources:\n    requests:\n      cpu: 500m\n      memory: 512Mi\n      \nhigress-core:\n  gateway:\n    resources:\n    requests:\n      cpu: 2000m\n      memory: 2048Mi\n    limits:\n      cpu: 2000m\n      memory: 2048Mi\n")),(0,t.kt)("p",null,"helm \u81ea\u5b9a\u4e49\u914d\u7f6e\u9879\u53c2\u8003\u6587\u4ef6\u5982\u4e0b\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"global \u548c higress-core \u914d\u7f6e\u9879: ",(0,t.kt)("a",{parentName:"li",href:"https://github.com/alibaba/higress/blob/main/helm/core/values.yaml"},"https://github.com/alibaba/higress/blob/main/helm/core/values.yaml")),(0,t.kt)("li",{parentName:"ul"},"global \u548c higress-console \u914d\u7f6e\u9879: ",(0,t.kt)("a",{parentName:"li",href:"https://github.com/higress-group/higress-console/blob/main/helm/values.yaml"},"https://github.com/higress-group/higress-console/blob/main/helm/values.yaml"))),(0,t.kt)("p",null,"\u5b89\u88c5\u547d\u4ee4\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"hgctl install --set profile=k8s  --set global.enableIstioAPI=true --set global.enableGatewayAPI=true --set gateway.replicas=1 -f ./values.yaml\n\n")),(0,t.kt)("ol",{start:3},(0,t.kt)("li",{parentName:"ol"},"\u672c\u5730 docker \u73af\u5883\u4e0b\u5b89\u88c5\uff0c\u540c\u65f6\u6307\u5b9a gateway http \u548c https \u7aef\u53e3 ")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"hgctl install --set profile=local-docker --set gateway.httpPort=80 --set gateway.httpsPort=443\n")),(0,t.kt)("p",null,"\u9ed8\u8ba4\u5b89\u88c5\u540e\u7aef\u5b58\u50a8\u91c7\u7528\u6587\u4ef6\u7cfb\u7edf\u4fdd\u5b58\u914d\u7f6e\uff0c \u5982\u679c\u540e\u7aef\u5b58\u50a8\u91c7\u7528 nacos \u4fdd\u5b58\uff0c \u5b89\u88c5\u65f6\u4f20\u5165 --set storage.url=nacos://192.168.0.1:8848\uff0c \u8fd9\u91cc\u8bbe\u7f6e\u5177\u4f53 nacos \u670d\u52a1\u5730\u5740\u3002"),(0,t.kt)("p",null,"\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa higress-standalone \u76ee\u5f55\uff0c\u5177\u4f53\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"\u251c\u2500\u2500 hgctl\n\u251c\u2500\u2500 higress-standalone\n\u2502  \u251c\u2500\u2500 conf\n\u2502  \u2502  \u251c\u2500\u2500 configmaps\n\u2502  \u2502  \u251c\u2500\u2500 endpoints\n\u2502  \u2502  \u251c\u2500\u2500 http2rpcs\n\u2502  \u2502  \u251c\u2500\u2500 ingressclasses\n\u2502  \u2502  \u251c\u2500\u2500 ingresses\n\u2502  \u2502  \u251c\u2500\u2500 mcpbridges\n\u2502  \u2502  \u251c\u2500\u2500 mutatingwebhookconfigurations\n\u2502  \u2502  \u251c\u2500\u2500 namespaces\n\u2502  \u2502  \u251c\u2500\u2500 nodes\n\u2502  \u2502  \u251c\u2500\u2500 pods\n\u2502  \u2502  \u251c\u2500\u2500 secrets\n\u2502  \u2502  \u251c\u2500\u2500 services\n\u2502  \u2502  \u251c\u2500\u2500 validatingwebhookconfigurations\n\u2502  \u2502  \u2514\u2500\u2500 wasmplugins\n\u2502  \u251c\u2500\u2500 get-higress.sh\n\u2502  \u2514\u2500\u2500 higress\n\u2502      \u251c\u2500\u2500 CODEOWNERS\n\u2502      \u251c\u2500\u2500 LICENSE\n\u2502      \u251c\u2500\u2500 README.md\n\u2502      \u251c\u2500\u2500 VERSION\n\u2502      \u251c\u2500\u2500 bin\n\u2502      \u2514\u2500\u2500 compose\n\n")),(0,t.kt)("p",null,"\u76ee\u5f55\u548c\u6587\u4ef6\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"higress-standalone/conf: \u914d\u7f6e\u540e\u7aef\u5b58\u50a8\u6587\u4ef6\u76ee\u5f55"),(0,t.kt)("li",{parentName:"ul"},"higress-standalone/higress: higress \u5b89\u88c5\u6587\u4ef6\u76ee\u5f55"),(0,t.kt)("li",{parentName:"ul"},"higress-standalone/higress/compose\uff1a higress docker compose \u914d\u7f6e\u76ee\u5f55"),(0,t.kt)("li",{parentName:"ul"},"higress-standalone/higress/bin\uff1a \u7ba1\u7406 higress \u811a\u672c\u76ee\u5f55"),(0,t.kt)("li",{parentName:"ul"},"higress-standalone/higress/compose/.env: higress \u5b89\u88c5\u540e\u751f\u6210\u914d\u7f6e\u6587\u4ef6")),(0,t.kt)("p",null,"\u5b89\u88c5\u6210\u529f\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u7528\u6237 $HOME \u76ee\u5f55\u4e0b\u5199\u5165\u5f53\u524d\u5b89\u88c5\u7684 profile \u914d\u7f6e: ~/.hgctl/profiles/install.yaml\uff0c \u5347\u7ea7\u65f6\u6839\u636e\u8fd9\u4e2a profile \u6765\u5347\u7ea7\u3002\uff08\u540e\u7eed\u7248\u672c\u4f1a\u6709\u53d8\u5316\uff09"),(0,t.kt)("h1",{id:"\u56db\u5347\u7ea7\u547d\u4ee4-hgctl-upgrade"},"\u56db\u3001\u5347\u7ea7\u547d\u4ee4\uff1a hgctl upgrade"),(0,t.kt)("p",null,"\u5347\u7ea7\u547d\u4ee4\u53c2\u6570\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"hgctl upgrade --help\n\nThe upgrade command is an alias for the install command that performs additional upgrade-related checks.\n\nUsage:\n  hgctl upgrade [flags]\n\nFlags:\n      --context string      The name of the kubeconfig context to use.\n  -f, --filename strings    Path to file containing helm custom values\n  -h, --help                help for upgrade\n      --kubeconfig string   Path to the kubeconfig file to use for CLI requests.\n  -d, --manifests string    Specify a path to a directory of profiles\n                            (e.g. ~/Downloads/higress/manifests).\n  -s, --set stringArray     Override an higress profile value, e.g. to choose a profile\n                            (--set profile=local-k8s), or override profile values (--set gateway.replicas=2), or override helm values (--set values.global.proxy.resources.requsts.cpu=500m).\n")),(0,t.kt)("p",null,"\u5347\u7ea7\u547d\u4ee4\u53c2\u6570\u548c\u5b89\u88c5\u53c2\u6570\u65f6\u4e00\u81f4\u7684\uff0c\u6838\u5fc3\u53c2\u6570\u5c31\u662f\u4e24\u4e2a -s (--set) \u548c -f (--filename) \u3002"),(0,t.kt)("p",null,"\u4e3b\u8981\u5dee\u522b\u662f\u4e0d\u80fd\u8bbe\u7f6eprofile, \u5347\u7ea7 profile \u662f\u6765\u6e90\u4e8e\u5b89\u88c5\u65f6\u4fdd\u5b58\uff1a ~/.hgctl/profiles/install.yaml \u3002"),(0,t.kt)("h1",{id:"\u4e09dashboard-\u547d\u4ee4--hgctl-dashbaord"},"\u4e09\u3001Dashboard \u547d\u4ee4:  hgctl dashbaord"),(0,t.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7 hgctl dashboard \u547d\u4ee4\u6253\u5f00 Higress Console \u7ba1\u7406\u754c\u9762\uff0c Higress Controller Debug\u754c\u9762\uff0c Envoy \u7ba1\u7406\u754c\u9762\uff0cGrafana \u548c Prometheus \u7ba1\u7406\u754c\u9762"),(0,t.kt)("p",null,"hgctl dashboard \u547d\u4ee4\u53c2\u6570\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'hgctl dashboard  --help\n\nUsage:\n  hgctl dashboard [flags]\n  hgctl dashboard [command]\n\nAliases:\n  dashboard, dash, d\n\nAvailable Commands:\n  console     Open Console web UI\n  controller  Open Controller debug web UI\n  envoy       Open Envoy admin web UI\n  grafana     Open Grafana web UI\n  prometheus  Open Prometheus web UI\n\nFlags:\n      --browser             When --browser is supplied as false, hgctl dashboard will not open the browser. Default is true which means hgctl dashboard will always open a browser to view the dashboard. (default true)\n      --context string      The name of the kubeconfig context to use.\n  -h, --help                help for dashboard\n      --kubeconfig string   Path to the kubeconfig file to use for CLI requests.\n  -n, --namespace string    Namespace where the addon is running, if not specified, higress-system would be used (default "higress-system")\n  -p, --port int            Local port to listen to\n\nUse "hgctl dashboard [command] --help" for more information about a command.\n\n')),(0,t.kt)("h1",{id:"\u4e94\u5378\u8f7d\u547d\u4ee4-hgctl-uninstall"},"\u4e94\u3001\u5378\u8f7d\u547d\u4ee4: hgctl uninstall"),(0,t.kt)("p",null,"hgctl uninstall \u547d\u4ee4\u53c2\u6570\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"hgctl uninstall --help\n\nThe uninstall command uninstalls higress from a cluster or local environment\n\nUsage:\n  hgctl uninstall [flags]\n\nExamples:\n# Uninstall higress \n  hgctl uninstal\n  \n  # Uninstall higress, istioAPI and GatewayAPI from a cluster\n  hgctl uninstall --purge-resources\n\n\nFlags:\n      --context string      The name of the kubeconfig context to use.\n  -h, --help                help for uninstall\n      --kubeconfig string   Path to the kubeconfig file to use for CLI requests.\n      --purge-resources     Delete  all of IstioAPI,GatewayAPI resources\n")),(0,t.kt)("p",null,"hgctl uninstall \u5378\u8f7d\u65f6\u4e0d\u4f1a\u81ea\u52a8\u5378\u8f7d IstioAPI, GatewayAPI\u7ec4\u4ef6\uff0c \u5982\u679c\u8981\u5378\u8f7d IstioAPI, GatewayAPI\u7ec4\u4ef6\uff0c\u5378\u8f7d\u65f6\u52a0\u4e0a --purge-resources\u3002"),(0,t.kt)("h1",{id:"\u516d\u63d2\u4ef6\u547d\u4ee4-hgctl-plugin-\u547d\u4ee4"},"\u516d\u3001\u63d2\u4ef6\u547d\u4ee4\uff1a hgctl plugin \u547d\u4ee4"))}h.isMDXComponent=!0}}]);