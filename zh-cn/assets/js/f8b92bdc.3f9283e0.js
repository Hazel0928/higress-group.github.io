"use strict";(self.webpackChunkhigress_website=self.webpackChunkhigress_website||[]).push([[4092],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var l=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=l.createContext({}),p=function(e){var t=l.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return l.createElement(s.Provider,{value:t},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),g=p(n),d=r,m=g["".concat(s,".").concat(d)]||g[d]||c[d]||a;return n?l.createElement(m,i(i({ref:t},u),{},{components:n})):l.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[g]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<a;p++)i[p]=n[p];return l.createElement.apply(null,i)}return l.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5222:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>p});var l=n(7462),r=(n(7294),n(3905));const a={title:"\u6559\u7a0b\uff1a\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress Pilot",keywords:["higress","pilot"],description:"\u4ecb\u7ecd\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress \u4e2d\u7684 Pilot \u7ec4\u4ef6",author:"CH3CHO",date:new Date("2024-03-16T00:00:00.000Z"),custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/en/docusaurus-plugin-content-blog/pilot-debug.md"},i=void 0,o={permalink:"/zh-cn/blog/pilot-debug",editUrl:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-blog/pilot-debug.md",source:"@site/i18n/zh-cn/docusaurus-plugin-content-blog/pilot-debug.md",title:"\u6559\u7a0b\uff1a\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress Pilot",description:"\u4ecb\u7ecd\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress \u4e2d\u7684 Pilot \u7ec4\u4ef6",date:"2024-03-16T00:00:00.000Z",formattedDate:"2024\u5e743\u670816\u65e5",tags:[],readingTime:5.64,hasTruncateMarker:!1,authors:[{name:"CH3CHO"}],frontMatter:{title:"\u6559\u7a0b\uff1a\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress Pilot",keywords:["higress","pilot"],description:"\u4ecb\u7ecd\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress \u4e2d\u7684 Pilot \u7ec4\u4ef6",author:"CH3CHO",date:"2024-03-16T00:00:00.000Z",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/en/docusaurus-plugin-content-blog/pilot-debug.md"},prevItem:{title:"\u901a\u4e49\u5343\u95ee2.5\u201c\u5ba2\u4e32\u201dChatGPT4\uff0c\u4f60\u5206\u7684\u6e05\u5417",permalink:"/zh-cn/blog/qwen-or-chatgpt"},nextItem:{title:"\u6559\u7a0b\uff1a\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress \u63a7\u5236\u53f0",permalink:"/zh-cn/blog/console-dev"}},s={authorsImageUrls:[void 0]},p=[{value:"\u80cc\u666f\u8bf4\u660e",id:"\u80cc\u666f\u8bf4\u660e",level:2},{value:"\u73af\u5883\u51c6\u5907",id:"\u73af\u5883\u51c6\u5907",level:2},{value:"\u6b65\u9aa4\u4e00\uff1a\u514b\u9686\u4ee3\u7801\u4ed3\u5e93",id:"\u6b65\u9aa4\u4e00\u514b\u9686\u4ee3\u7801\u4ed3\u5e93",level:3},{value:"\u6b65\u9aa4\u4e8c\uff1a\u51c6\u5907\u9879\u76ee\u4ee3\u7801",id:"\u6b65\u9aa4\u4e8c\u51c6\u5907\u9879\u76ee\u4ee3\u7801",level:3},{value:"\u6b65\u9aa4\u4e09\uff1a\u5b89\u88c5 Higress",id:"\u6b65\u9aa4\u4e09\u5b89\u88c5-higress",level:3},{value:"\u5f00\u53d1\u4e0e\u8c03\u8bd5",id:"\u5f00\u53d1\u4e0e\u8c03\u8bd5",level:2},{value:"\u672c\u5730\u5f00\u53d1",id:"\u672c\u5730\u5f00\u53d1",level:3},{value:"\u8c03\u8bd5\u8fd0\u884c",id:"\u8c03\u8bd5\u8fd0\u884c",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}],u={toc:p},g="wrapper";function c(e){let{components:t,...a}=e;return(0,r.kt)(g,(0,l.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u80cc\u666f\u8bf4\u660e"},"\u80cc\u666f\u8bf4\u660e"),(0,r.kt)("p",null,"\u524d\u9762 SJC \u5728",(0,r.kt)("a",{parentName:"p",href:"/blog/e2e-debug"},"\u8fd9\u7bc7\u535a\u5ba2"),"\u4e2d\u4ecb\u7ecd\u4e86\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress Controller\u3002\u800c Higress \u63a7\u5236\u9762\u9664\u4e86 Controller \u4e4b\u5916\u8fd8\u6709\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u90a3\u5c31\u662f Pilot\u3002\u672c\u6587\u5c31\u5c06\u4ecb\u7ecd\u5982\u4f55\u5728\u672c\u5730\u5f00\u53d1\u548c\u8c03\u8bd5 Higress Pilot\u3002"),(0,r.kt)("h2",{id:"\u73af\u5883\u51c6\u5907"},"\u73af\u5883\u51c6\u5907"),(0,r.kt)("h3",{id:"\u6b65\u9aa4\u4e00\u514b\u9686\u4ee3\u7801\u4ed3\u5e93"},"\u6b65\u9aa4\u4e00\uff1a\u514b\u9686\u4ee3\u7801\u4ed3\u5e93"),(0,r.kt)("p",null,"Pilot \u7684\u4ee3\u7801\u76ee\u524d\u662f\u4ee5 Istio \u4e0a\u6e38\u4ed3\u5e93 submodule \u52a0\u8865\u4e01\u6587\u4ef6\u7684\u5f62\u5f0f\u5b58\u5728\u4e8e Higress \u7684\u4e3b\u4ed3\u5e93\u4e2d\u7684\uff0c\u6240\u4ee5\u76f4\u63a5\u514b\u9686 Higress \u7684\u4ee3\u7801\u4e3b\u4ed3\u5e93 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/alibaba/higress"},"https://github.com/alibaba/higress")," \u5373\u53ef\u3002"),(0,r.kt)("h3",{id:"\u6b65\u9aa4\u4e8c\u51c6\u5907\u9879\u76ee\u4ee3\u7801"},"\u6b65\u9aa4\u4e8c\uff1a\u51c6\u5907\u9879\u76ee\u4ee3\u7801"),(0,r.kt)("p",null,"Higress Pilot \u662f\u5728 Istio Pilot \u7684\u57fa\u7840\u4e0a\uff0c\u57fa\u4e8e Higress \u81ea\u8eab\u7684\u529f\u80fd\u9700\u6c42\u8fdb\u884c\u4e86\u4e8c\u6b21\u5f00\u53d1\u800c\u6784\u5efa\u800c\u6210\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u9700\u8981\u4e0b\u8f7d\u4e0a\u6e38\u4ee3\u7801\u4ed3\u5e93\u5e76\u5e94\u7528\u73b0\u6709\u7684\u8865\u4e01\u3002\u6211\u4eec\u53ea\u9700\u8981\u6267\u884c\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"make prebuild\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Windows \u7528\u6237\u6ce8\u610f\u4e86\uff01")),(0,r.kt)("p",null,"\u5982\u679c\u4f60\u662f\u5728 Windows \u4e0a\u8fdb\u884c\u5f00\u53d1\uff0c\u5e76\u4e14\u6267\u884c ",(0,r.kt)("inlineCode",{parentName:"p"},"make")," \u547d\u4ee4\u6709\u56f0\u96be\u7684\u8bdd\uff0c\u4e0d\u8981\u6015\uff0c\u6211\u4eec\u4e5f\u6709\u529e\u6cd5\u3002\u56e0\u4e3a\u6574\u4e2a prebuild \u5176\u5b9e\u4e5f\u53ea\u505a\u4e86\u4e24\u4ef6\u4e8b\u60c5\u3002"),(0,r.kt)("p",null,"\u7b2c\u4e00\u4ef6\u4e8b\u60c5\u662f\u521d\u59cb\u5316\u6240\u6709\u7684\u4e0a\u6e38\u5b50\u6a21\u5757\uff0c\u53ea\u9700\u8981\u6267\u884c\u8fd9\u6837\u4e00\u6761\u547d\u4ee4\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git submodule update --init\n")),(0,r.kt)("p",null,"\u7b2c\u4e8c\u4ef6\u4e8b\u60c5\u662f\u521d\u59cb\u5316\u5f00\u53d1\u76ee\u5f55\u3002\u8fd9\u4e00\u6b65\u9aa4\u6267\u884c\u7684\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"tools/hack/prebuild.sh"),"\u3002\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u5728 Cygwin \u6216\u8005 Git Bash \u7b49\u7c7b Linux \u7ec8\u7aef\u4e0b\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u6587\u4ef6\u3002"),(0,r.kt)("p",null,"\u5982\u679c\u5728\u5e94\u7528\u8865\u4e01\u7684\u65f6\u5019\u51fa\u73b0\u4e86\u548c\u6362\u884c\u7b26\u6709\u5173\u7684\u62a5\u9519\uff0c\u90a3\u4e48\u53ef\u4ee5\u7f16\u8f91 ",(0,r.kt)("inlineCode",{parentName:"p"},"prebuild.sh"),"\uff0c\u7ed9\u4e24\u5904 ",(0,r.kt)("inlineCode",{parentName:"p"},"patch")," \u547d\u4ee4\u589e\u52a0 ",(0,r.kt)("inlineCode",{parentName:"p"},"--binary")," \u53c2\u6570\u5373\u53ef\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img.png",src:n(4167).Z,width:"862",height:"651"})),(0,r.kt)("h3",{id:"\u6b65\u9aa4\u4e09\u5b89\u88c5-higress"},"\u6b65\u9aa4\u4e09\uff1a\u5b89\u88c5 Higress"),(0,r.kt)("p",null,"\u65e2\u7136\u53ea\u662f\u8c03\u8bd5 pilot\uff0c\u90a3\u4e48\u5176\u4ed6\u7ec4\u4ef6\u8fd8\u662f\u8981\u590d\u7528\u73b0\u6709 Higress \u96c6\u7fa4\u91cc\u7684\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5728\u672c\u5730\u914d\u7f6e\u4e00\u4e2a Higress \u96c6\u7fa4\u3002\u5927\u5bb6\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7\u6587\u6863\uff1a",(0,r.kt)("a",{parentName:"p",href:"/docs/user/quickstart"},"\u94fe\u63a5"),"\u3002"),(0,r.kt)("h2",{id:"\u5f00\u53d1\u4e0e\u8c03\u8bd5"},"\u5f00\u53d1\u4e0e\u8c03\u8bd5"),(0,r.kt)("h3",{id:"\u672c\u5730\u5f00\u53d1"},"\u672c\u5730\u5f00\u53d1"),(0,r.kt)("p",null,"\u672c\u5730\u5f00\u53d1\u63a8\u8350\u4f7f\u7528 IDE JetBrains GoLand\u3002\u6211\u4eec\u76f4\u63a5\u5728 GoLand \u4e2d\u6253\u5f00 ",(0,r.kt)("inlineCode",{parentName:"p"},"external/istio")," \u76ee\u5f55\uff0c\u6b63\u5e38\u8fdb\u884c\u5f00\u53d1\u5373\u53ef\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img.png",src:n(6842).Z,width:"1419",height:"722"})),(0,r.kt)("h3",{id:"\u8c03\u8bd5\u8fd0\u884c"},"\u8c03\u8bd5\u8fd0\u884c"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u73af\u5883\u51c6\u5907")),(0,r.kt)("p",null,"\u7b2c\u4e00\u6b65\uff1a\u63d0\u53d6\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("p",null,"\u5728\u672c\u5730\u4efb\u610f\u4e00\u4e2a\u4f4d\u7f6e\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u7136\u540e\u5728\u8be5\u76ee\u5f55\u4e0b\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u751f\u6210\u914d\u7f6e\u6587\u4ef6\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl get configmap higress-config -n higress-system -o=jsonpath='{.data.mesh}' > ./mesh\nkubectl get configmap higress-config -n higress-system -o=jsonpath='{.data.meshNetworks}' > ./meshNetworks\n")),(0,r.kt)("p",null,"\u7b2c\u4e8c\u6b65\uff1a\u8f6c\u53d1 controller \u7aef\u53e3"),(0,r.kt)("p",null,"\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06 controller \u7684 xDS \u670d\u52a1\u7aef\u53e3\u8f6c\u53d1\u81f3\u672c\u5730\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl port-forward deployment/higress-controller -n higress-system 15051\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4ee3\u7801\u8c03\u6574")),(0,r.kt)("p",null,"\u5982\u679c\u8981\u8c03\u8bd5\u4e0e TLS \u8bc1\u4e66\u4e0b\u53d1\u7684\u76f8\u5173\u529f\u80fd\uff0c\u5219\u9700\u8981\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"pilot/pkg/xds/ads.go")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"initConnection")," \u51fd\u6570\u4e2d\u6dfb\u52a0\u4ee3\u7801\uff0c\u7ed5\u8fc7\u8bc1\u4e66\u4e0b\u53d1\u8fc7\u7a0b\u7684\u8ba4\u8bc1\u8981\u6c42\u3002\u4ee3\u7801\u4fee\u6539\u65b9\u6cd5\u8bf7\u53c2\u8003\u4e0b\u65b9\u793a\u4f8b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'    if features.EnableXDSIdentityCheck && con.Identities != nil {\n        // TODO: allow locking down, rejecting unauthenticated requests.\n        id, err := checkConnectionIdentity(con)\n        if err != nil {\n            log.Warnf("Unauthorized XDS: %v with identity %v: %v", con.PeerAddr, con.Identities, err)\n            return status.Newf(codes.PermissionDenied, "authorization failed: %v", err).Err()\n        }\n        con.proxy.VerifiedIdentity = id\n    }\n    // Start - Auth bypassing for local debug\n    con.proxy.VerifiedIdentity = &spiffe.Identity{\n        TrustDomain:    "cluster.local",\n        Namespace:      "higress-system",\n        ServiceAccount: "higress-gateway",\n    }\n    // End - Auth bypassing for local debug\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd0\u884c\u914d\u7f6e")),(0,r.kt)("p",null,"\u914d\u7f6e\u4e00\uff1a\u73af\u5883\u53d8\u91cf"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"CUSTOM_CA_CERT_NAME=higress-ca-root-cert;\nJWT_POLICY=none;\nPILOT_ENABLE_CROSS_CLUSTER_WORKLOAD_ENTRY=false;\nPILOT_ENABLE_GATEWAY_API=true;\nPILOT_ENABLE_GATEWAY_API_DEPLOYMENT_CONTROLLER=false;\nPILOT_ENABLE_GATEWAY_API_STATUS=false;\nPILOT_ENABLE_METADATA_EXCHANGE=false;\nPILOT_SCOPE_GATEWAY_TO_NAMESPACE=true;\nPOD_NAME=higress-controller;\nPOD_NAMESPACE=higress-system;\nREVISION=default;\nVALIDATION_ENABLED=false\n")),(0,r.kt)("p",null,"\u914d\u7f6e\u4e8c\uff1a\u547d\u4ee4\u884c\u53c2\u6570"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"discovery --monitoringAddr=:15014 --log_output_level=default:info --domain cluster.local --keepaliveMaxServerConnectionAge 30m --meshConfig ${configDir}/mesh --networksConfig ${configDir}/meshNetworks\n")),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\u5176\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"${configDir}")," \u4e3a\u5728",(0,r.kt)("strong",{parentName:"p"},"\u73af\u5883\u51c6\u5907"),"\u4e00\u6b65\u521b\u5efa\u7684\u914d\u7f6e\u76ee\u5f55\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u542f\u52a8\u8c03\u8bd5")),(0,r.kt)("p",null,"\u5728\u5b8c\u6210\u4ee5\u4e0a\u5de5\u4f5c\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u542f\u52a8 Pilot \u4e86\u3002\u5b83\u7684 main \u51fd\u6570\u5b9a\u4e49\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"pilot/cmd/pilot-discovery/main.go")," \u6587\u4ef6\u4e2d\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img.png",src:n(3879).Z,width:"1501",height:"435"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u7f51\u5173\u5bf9\u63a5")),(0,r.kt)("p",null,"\u5982\u679c\u60f3\u8981\u9a8c\u8bc1 pilot \u4e0b\u53d1\u914d\u7f6e\u5230 gateway \u7684\u529f\u80fd\uff0c\u6211\u4eec\u9700\u8981\u4fee\u6539 gateway \u7684\u914d\u7f6e\uff0c\u4f7f\u4e4b\u8fde\u63a5\u5230\u5904\u4e8e\u5f00\u53d1\u72b6\u6001\u7684 pilot \u5b9e\u4f8b\u3002"),(0,r.kt)("p",null,"\u7b2c\u4e00\u6b65\uff1a\u4fee\u6539 ",(0,r.kt)("inlineCode",{parentName:"p"},"higress-config")," ConfigMap"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl edit configmap higress-config -n higress-system\n")),(0,r.kt)("p",null,"\u4fee\u6539\u4e24\u4e2a\u5730\u65b9\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5c06 ",(0,r.kt)("inlineCode",{parentName:"li"},"discoveryAddress")," \u4fee\u6539\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"\u672c\u673aIP:15010"),"\uff1b",(0,r.kt)("br",null),"\u6ce8\u610f\uff1a\u6b64\u5904\u7684\u672c\u673a IP \u4e0d\u53ef\u4ee5\u4f7f\u7528 127.0.0.1 \u7b49 loopback IP\u3002\u9700\u8981\u4f7f\u7528\u672c\u673a\u6709\u7ebf\u6216\u65e0\u7ebf\u7f51\u5361\u7684 IP\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"discoveryAddress")," \u4e0b\u9762\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5c5e\u6027\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"controlPlaneAuthPolicy: NONE"),"\u3002")),(0,r.kt)("p",null,"\u4fee\u6539\u540e\u914d\u7f6e\u793a\u4f8b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img.png",src:n(4976).Z,width:"549",height:"250"})),(0,r.kt)("p",null,"\u7b2c\u4e8c\u6b65\uff1a\u91cd\u542f Higress Gateway"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl rollout restart deployment higress-gateway -n higress-system\n")),(0,r.kt)("p",null,"\u91cd\u542f\u540e\u6211\u4eec\u53ef\u4ee5\u5728 pilot \u7684\u63a7\u5236\u53f0\u8f93\u51fa\u4e2d\u770b\u5230 gateway \u8fde\u63a5\u4e0a\u6765\u7684\u5e76\u83b7\u53d6\u914d\u7f6e\u7684\u65e5\u5fd7\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img.png",src:n(2511).Z,width:"1494",height:"462"})),(0,r.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,r.kt)("p",null,"\u672c\u5730\u8c03\u8bd5\u548c\u6d4b\u8bd5\u662f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5fc5\u4e0d\u53ef\u5c11\u7684\u73af\u8282\u3002\u901a\u8fc7\u672c\u6587\u7684\u4ecb\u7ecd\uff0c\u5e0c\u671b\u5927\u5bb6\u53ef\u4ee5\u66f4\u52a0\u65b9\u4fbf\u7684\u5bf9 pilot \u8fdb\u884c\u672c\u5730\u8c03\u8bd5\u548ce2e\u6d4b\u8bd5\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002\u540c\u65f6\u4e5f\u5e0c\u671b\u80fd\u591f\u6709\u8d8a\u6765\u8d8a\u591a\u7684\u5f00\u53d1\u8005\u52a0\u5165\u5230 Higress \u7814\u53d1\u961f\u4f0d\u4e2d\uff0c\u4e3a\u4ea7\u54c1\u7684\u5347\u7ea7\u8fed\u4ee3\u8d21\u732e\u4e00\u4efd\u529b\u91cf\u3002"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/alibaba/higress/issues/480"},"\u6b22\u8fce\u53c2\u4e0e\u963f\u91cc\u5f00\u6e90\u8d21\u732e\ud83d\udc4f")))}c.isMDXComponent=!0},3879:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/debug-run-b2c3f7a50afb761c6fb1e0182a190044.png"},2511:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/gateway-connected-7884dc4a25d714a194c1605ba474d1a8.png"},6842:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/goland-project-9e47f05886a80bb1ac0a6113d4f4966f.png"},4976:(e,t,n)=>{n.d(t,{Z:()=>l});const l="data:image/png;base64,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"},4167:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/patch-binary-0a2e0fe071efb18bdf0d5d7aecb07e6b.png"}}]);