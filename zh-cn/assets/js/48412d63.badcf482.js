"use strict";(self.webpackChunkhigress_website=self.webpackChunkhigress_website||[]).push([[3455],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),g=p(n),d=i,m=g["".concat(l,".").concat(d)]||g[d]||u[d]||a;return n?r.createElement(m,s(s({ref:t},c),{},{components:n})):r.createElement(m,s({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[g]="string"==typeof e?e:i,s[1]=o;for(var p=2;p<a;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2260:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>p});var r=n(7462),i=(n(7294),n(3905));const a={title:"Higress\u81ea\u5b9a\u4e49CRD\u5f00\u53d1\u6307\u5f15",keywords:["higress","CRD"],description:"\u4ecb\u7ecdHigress\u4e2d\u81ea\u5b9a\u4e49CRD\u7684\u6574\u4e2a\u7814\u53d1\u6d41\u7a0b",author:"Hinsteny",date:new Date("2023-08-10T00:00:00.000Z"),custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/dev/CustomResourceDefinition.md"},s=void 0,o={unversionedId:"dev/CustomResourceDefinition",id:"dev/CustomResourceDefinition",title:"Higress\u81ea\u5b9a\u4e49CRD\u5f00\u53d1\u6307\u5f15",description:"\u4ecb\u7ecdHigress\u4e2d\u81ea\u5b9a\u4e49CRD\u7684\u6574\u4e2a\u7814\u53d1\u6d41\u7a0b",source:"@site/i18n/zh-cn/docusaurus-plugin-content-docs/current/dev/CustomResourceDefinition.md",sourceDirName:"dev",slug:"/dev/CustomResourceDefinition",permalink:"/zh-cn/docs/dev/CustomResourceDefinition",draft:!1,editUrl:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/dev/CustomResourceDefinition.md",tags:[],version:"current",frontMatter:{title:"Higress\u81ea\u5b9a\u4e49CRD\u5f00\u53d1\u6307\u5f15",keywords:["higress","CRD"],description:"\u4ecb\u7ecdHigress\u4e2d\u81ea\u5b9a\u4e49CRD\u7684\u6574\u4e2a\u7814\u53d1\u6d41\u7a0b",author:"Hinsteny",date:"2023-08-10T00:00:00.000Z",custom_edit_url:"https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/dev/CustomResourceDefinition.md"},sidebar:"docs",previous:{title:"\u7ec4\u4ef6\u7f16\u8bd1\u8bf4\u660e",permalink:"/zh-cn/docs/dev/architecture"},next:{title:"\u6559\u7a0b\uff1a\u5982\u4f55\u5728\u672c\u5730\u8fdb\u884chigress\u8c03\u8bd5\u548c\u7aef\u5230\u7aef\u6d4b\u8bd5",permalink:"/zh-cn/docs/dev/e2e-debug"}},l={},p=[{value:"CRD\u6a21\u578b\u5b9a\u4e49",id:"crd\u6a21\u578b\u5b9a\u4e49",level:2},{value:"\u8fdb\u5165api\u76ee\u5f55",id:"\u8fdb\u5165api\u76ee\u5f55",level:3},{value:"\u7f16\u5199CRD\u6a21\u578b",id:"\u7f16\u5199crd\u6a21\u578b",level:3},{value:"2\u3001\u4ee3\u7801\u751f\u6210",id:"2\u4ee3\u7801\u751f\u6210",level:2},{value:"kubernetes customresuource\u5b9a\u4e49",id:"kubernetes-customresuource\u5b9a\u4e49",level:3},{value:"CRD\u5bf9\u5e94\u8d44\u6e90\u5bf9\u8c61Go\u8bed\u8a00\u7684\u5b9a\u4e49\u53ca\u64cd\u4f5c\u65b9\u6cd5",id:"crd\u5bf9\u5e94\u8d44\u6e90\u5bf9\u8c61go\u8bed\u8a00\u7684\u5b9a\u4e49\u53ca\u64cd\u4f5c\u65b9\u6cd5",level:3},{value:"kubernetes client apis",id:"kubernetes-client-apis",level:3},{value:"kubernetes client apis operate",id:"kubernetes-client-apis-operate",level:3},{value:"kubernetes client informer",id:"kubernetes-client-informer",level:3},{value:"kubernetes client informer lister",id:"kubernetes-client-informer-lister",level:3},{value:"3\u3001\u96c6\u6210 Controller",id:"3\u96c6\u6210-controller",level:2},{value:"\u5b9a\u4e49\u76f8\u5173\u5c5e\u6027",id:"\u5b9a\u4e49\u76f8\u5173\u5c5e\u6027",level:3},{value:"\u5728higress\u542f\u52a8\u9636\u6bb5\u521d\u59cb\u5316\u4e0a\u8ff0\u53d8\u91cf",id:"\u5728higress\u542f\u52a8\u9636\u6bb5\u521d\u59cb\u5316\u4e0a\u8ff0\u53d8\u91cf",level:3},{value:"\u5b9e\u73b0CRD\u53d8\u66f4\u4e8b\u4ef6\u5904\u7406\u903b\u8f91",id:"\u5b9e\u73b0crd\u53d8\u66f4\u4e8b\u4ef6\u5904\u7406\u903b\u8f91",level:3}],c={toc:p},g="wrapper";function u(e){let{components:t,...a}=e;return(0,i.kt)(g,(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"2023\u5e748\u670810\u65e5 \xb7 \u9605\u8bfb\u9700 20 \u5206\u949f"),(0,i.kt)("hr",null),(0,i.kt)("h1",{id:"\u529f\u80fd\u5212\u5206"},"\u529f\u80fd\u5212\u5206"),(0,i.kt)("p",null,"\u8fd9\u91cc\u6211\u4eec\u5148\u5927\u6982\u68b3\u7406\u4e00\u4e0bHigress\u5de5\u7a0b\u5404\u76ee\u5f55\u7684\u804c\u8d23\u5212\u5206"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"\u76ee\u5f55")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},"\u529f\u80fd\u8bf4\u660e")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"api")),(0,i.kt)("td",{parentName:"tr",align:null},"Higress\u6240\u6d89\u53ca\u64cd\u4f5c\u7684kubernetes api")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"client")),(0,i.kt)("td",{parentName:"tr",align:null},"Higress\u96c6\u6210kubernetes\u7684client\u8fdb\u884c\u8d44\u6e90\u76d1\u542c\u4e0e\u4e0b\u53d1")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"cmd")),(0,i.kt)("td",{parentName:"tr",align:null},"\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u7b49\u5904\u7406\u4ee3\u7801")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"docker")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6784\u5efaHigress docker image\u7684\u63cf\u8ff0\u6587\u4ef6")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"docs")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6587\u6863\u5185\u5bb9")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"envoy")),(0,i.kt)("td",{parentName:"tr",align:null},"envoy\u6e90\u7801\u5185\u5bb9")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"helm")),(0,i.kt)("td",{parentName:"tr",align:null},"\u4f7f\u7528helm\u5b89\u88c5Higress\u7b49\u914d\u7f6e")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"istio")),(0,i.kt)("td",{parentName:"tr",align:null},"istio\u6e90\u7801\u5185\u5bb9")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"pkg/ingress")),(0,i.kt)("td",{parentName:"tr",align:null},"Ingress \u8d44\u6e90\u8f6c\u6362\u4e3a Istio \u8d44\u6e90\u7b49\u76f8\u5173\u4ee3\u7801")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"pkg/bootstrap")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5305\u62ec\u542f\u52a8 gRPC/xDS/HTTP server \u7b49\u7684\u4ee3\u7801")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"plugins")),(0,i.kt)("td",{parentName:"tr",align:null},"Higress \u63d2\u4ef6 sdk\uff0c\u4ee5\u53ca\u5b98\u65b9\u5185\u7f6e\u63d2\u4ef6\u4ee3\u7801")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"registry")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5b9e\u73b0\u5bf9\u63a5\u591a\u79cd\u6ce8\u518c\u4e2d\u5fc3\u8fdb\u884c\u670d\u52a1\u53d1\u73b0\u7684\u4ee3\u7801")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"samples")),(0,i.kt)("td",{parentName:"tr",align:null},"\u4e00\u4e9b\u5e38\u89c1Pod\u3001Service\u7684yaml\u793a\u4f8b")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"test")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5355\u5143\u6d4b\u8bd5\u53cae2e\u6d4b\u8bd5\u7528\u4f8b")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"tools")),(0,i.kt)("td",{parentName:"tr",align:null},"\u7f16\u8bd1\u3001\u6784\u5efa\u3001image\u5206\u53d1\u4ee5\u53ca\u672c\u5730\u6d4b\u8bd5\u73af\u5883\u642d\u5efa\u7b49\u811a\u672c")))),(0,i.kt)("h1",{id:"\u7814\u53d1\u6307\u5f15"},"\u7814\u53d1\u6307\u5f15"),(0,i.kt)("h2",{id:"crd\u6a21\u578b\u5b9a\u4e49"},"CRD\u6a21\u578b\u5b9a\u4e49"),(0,i.kt)("h3",{id:"\u8fdb\u5165api\u76ee\u5f55"},"\u8fdb\u5165api\u76ee\u5f55"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"higress/api")),(0,i.kt)("p",null,"\u6839\u636e\u6240\u8981\u65b0\u5efaCRD\u7684api\u7c7b\u578b\uff0c\u9009\u62e9\u76f8\u5bf9\u4e8e\u7684\u5b50\u76ee\u5f55\uff0c\u6bd4\u5982"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"networking/v1")),(0,i.kt)("h3",{id:"\u7f16\u5199crd\u6a21\u578b"},"\u7f16\u5199CRD\u6a21\u578b"),(0,i.kt)("p",null,"\u6bd4\u5982\u6211\u8fd9\u91cc\u60f3\u5b9a\u4e49\u4e00\u4e2ahttp_2_rpc\u7684CRD\u8d44\u6e90"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"http_2_rpc.proto")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'// Copyright (c) 2022 Alibaba Group Holding Ltd.\n//  \n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//  \n//      http://www.apache.org/licenses/LICENSE-2.0\n//  \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nsyntax = "proto3";\n\nimport "google/api/field_behavior.proto";\n\n// $schema: higress.networking.v1.Http2Rpc\n// $title: Http2Rpc\n// $description: Configuration affecting service discovery from multi registries\n// $mode: none\n\npackage higress.networking.v1;\n\noption go_package = "github.com/alibaba/higress/api/networking/v1";\n\n// \x3c!-- crd generation tags\n// +cue-gen:Http2Rpc:groupName:networking.higress.io\n// +cue-gen:Http2Rpc:version:v1\n// +cue-gen:Http2Rpc:storageVersion\n// +cue-gen:Http2Rpc:annotations:helm.sh/resource-policy=keep\n// +cue-gen:Http2Rpc:subresource:status\n// +cue-gen:Http2Rpc:scope:Namespaced\n// +cue-gen:Http2Rpc:resource:categories=higress-io,plural=http2rpcs\n// +cue-gen:Http2Rpc:preserveUnknownFields:false\n// --\x3e\n//\n// \x3c!-- go code generation tags\n// +kubetype-gen\n// +kubetype-gen:groupVersion=networking.higress.io/v1\n// +genclient\n// +k8s:deepcopy-gen=true\n// --\x3e\nmessage Http2Rpc {\n  oneof destination {\n    DubboService dubbo = 1;\n    GrpcService  grpc = 2;\n }\n}\n\nmessage DubboService {\n  string service = 1 [(google.api.field_behavior) = REQUIRED];\n  string version = 2 [(google.api.field_behavior) = REQUIRED];\n  string group = 3 [(google.api.field_behavior) = OPTIONAL];\n  repeated Method methods = 4 [(google.api.field_behavior) = REQUIRED];\n}\n\nmessage Method {\n  string service_method = 1 [(google.api.field_behavior) = REQUIRED];\n  string headers_attach = 2 [(google.api.field_behavior) = OPTIONAL];\n  string http_path = 3 [(google.api.field_behavior) = REQUIRED];\n  repeated string http_methods = 4 [(google.api.field_behavior) = REQUIRED];\n  repeated Param params = 5;\n}\n\nmessage Param {\n  string param_source = 1 [(google.api.field_behavior) = REQUIRED];\n  string param_key = 2 [(google.api.field_behavior) = REQUIRED];\n  string param_type = 3 [(google.api.field_behavior) = REQUIRED];\n}\n\nmessage GrpcService {\n  oneof destination {\n    string proto_descriptor_str = 1;\n    string proto_descriptor_file_path = 2;\n }\n  repeated string services = 3 [(google.api.field_behavior) = REQUIRED];\n}\n\n')),(0,i.kt)("h2",{id:"2\u4ee3\u7801\u751f\u6210"},"2\u3001\u4ee3\u7801\u751f\u6210"),(0,i.kt)("p",null,"\u8fd9\u91cc\u4f9d\u8d56",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes code generators"),"\u751f\u6210\u76f8\u5173kubetype\u3001client\u3001informer\u3001lister\u7b49\u4ee3\u7801\u3002\n\u5728higress\u6839\u76ee\u5f55\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"GENERATE_API=1 make gen-client")),(0,i.kt)("p",null,"\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\u4f1a\u751f\u6210\uff0c\u5982\u4e0b\u4ee3\u7801"),(0,i.kt)("h3",{id:"kubernetes-customresuource\u5b9a\u4e49"},"kubernetes customresuource\u5b9a\u4e49"),(0,i.kt)("p",null,"\u901a\u8fc7\u5c06\u8fd9\u4e2a\u5b9a\u4e49\u6ce8\u518c\u7ed9kubernetes\u96c6\u7fa4\uff0c\u7136\u540e\u5c31\u80fd\u521b\u5efa\u5bf9\u5e94\u7684CRD\u8d44\u6e90\u5b9e\u4f8b\u3002\n",(0,i.kt)("img",{alt:"kubernetes-customresuource-definition.png",src:n(3816).Z,width:"1712",height:"1568"})),(0,i.kt)("h3",{id:"crd\u5bf9\u5e94\u8d44\u6e90\u5bf9\u8c61go\u8bed\u8a00\u7684\u5b9a\u4e49\u53ca\u64cd\u4f5c\u65b9\u6cd5"},"CRD\u5bf9\u5e94\u8d44\u6e90\u5bf9\u8c61Go\u8bed\u8a00\u7684\u5b9a\u4e49\u53ca\u64cd\u4f5c\u65b9\u6cd5"),(0,i.kt)("p",null,"Hingress(IngressConfig)\u521d\u59cb\u5316\u53ca\u8fd0\u884c\u9636\u6bb5\u4f1a\u4f7f\u7528\u8fd9\u91cc\u7684api\u6a21\u578b\u3002\n",(0,i.kt)("img",{alt:"higress-api.png",src:n(6675).Z,width:"1992",height:"1562"})),(0,i.kt)("h3",{id:"kubernetes-client-apis"},"kubernetes client apis"),(0,i.kt)("p",null,"Hingress\u96c6\u6210kubernetes client\u4e0ekube-apiserver\u4ea4\u4e92\u65f6\u4f1a\u4f7f\u7528\u8fd9\u91cc\u7684\u6a21\u578b\u5bf9\u8c61\u3002\n",(0,i.kt)("img",{alt:"kubernetes-client-api.png",src:n(6227).Z,width:"1992",height:"1566"})),(0,i.kt)("h3",{id:"kubernetes-client-apis-operate"},"kubernetes client apis operate"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"kubernetes-client-api-operate.png",src:n(7871).Z,width:"2230",height:"1564"})),(0,i.kt)("h3",{id:"kubernetes-client-informer"},"kubernetes client informer"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"kubernetes-client-informer.png",src:n(2975).Z,width:"2146",height:"1558"})),(0,i.kt)("h3",{id:"kubernetes-client-informer-lister"},"kubernetes client informer lister"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"kubernetes-client-informer-lister.png",src:n(1533).Z,width:"2120",height:"1578"})),(0,i.kt)("h2",{id:"3\u96c6\u6210-controller"},"3\u3001\u96c6\u6210 Controller"),(0,i.kt)("p",null,"\u8fd9\u91cc\u4e3b\u8981\u662f\u5728ingress_config\uff0c\u6dfb\u52a0\u81ea\u5b9a\u4e49CRD Resource\u7684\u5f15\u7528\u5bf9\u8c61\uff0c\u5e76\u4e14\u901a\u8fc7informer\u673a\u5236\u76d1\u542cCRD\u5b9e\u4f8b\u7684\u53d8\u5316\uff0c\u7136\u540e\u5b9e\u73b0\u76f8\u5173\u4e1a\u52a1\u903b\u8f91\uff0c\u6bd4\u5982\u751f\u6210istio EnvoyFilter\u7b49"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"higress/pkg/ingress/config/ingress_config.go")),(0,i.kt)("h3",{id:"\u5b9a\u4e49\u76f8\u5173\u5c5e\u6027"},"\u5b9a\u4e49\u76f8\u5173\u5c5e\u6027"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"//\u5f02\u6b65\u7ebf\u7a0b\u542f\u52a8\u540e\uff0c\u53ef\u4ee5\u76d1\u542cCRD-http2rpc\u8d44\u6e90\u53d8\u5316\u4e8b\u4ef6\nhttp2rpcController http2rpc.Http2RpcController\n//\u8d44\u6e90\u53d8\u5316\u4e8b\u4ef6\u5904\u7406\u65f6\u901a\u8fc7Lister\u83b7\u53d6\u53d1\u9001\u53d8\u5316\u7684CRD\u5b9e\u4f8b\u5bf9\u8c61\nhttp2rpcLister netlisterv1.Http2RpcLister\n//\u5b58\u50a8\u5168\u91cf\u7684http2rpcs\u8d44\u6e90\u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u5176\u4ed6\u4e8b\u4ef6\u6d41\u7a0b\u4e2d\u6d88\u8d39\nhttp2rpcs map[string]*higressv1.Http2Rpc\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"ingress-config.png",src:n(5108).Z,width:"1840",height:"1490"})),(0,i.kt)("h3",{id:"\u5728higress\u542f\u52a8\u9636\u6bb5\u521d\u59cb\u5316\u4e0a\u8ff0\u53d8\u91cf"},"\u5728higress\u542f\u52a8\u9636\u6bb5\u521d\u59cb\u5316\u4e0a\u8ff0\u53d8\u91cf"),(0,i.kt)("p",null,"\u8fd9\u91cc\u5c31\u4f1a\u5f15\u7528\u81ea\u52a8\u5316\u751f\u6210\u7684\u4e00\u4e9b\u4ee3\u7801\uff0c\u8fdb\u884cController\u7684\u521b\u5efa\u53ca\u4e8b\u4ef6\u7ed1\u5b9a\u3002\n",(0,i.kt)("img",{alt:"ingress-config-initial.png",src:n(7412).Z,width:"2526",height:"1450"})),(0,i.kt)("h3",{id:"\u5b9e\u73b0crd\u53d8\u66f4\u4e8b\u4ef6\u5904\u7406\u903b\u8f91"},"\u5b9e\u73b0CRD\u53d8\u66f4\u4e8b\u4ef6\u5904\u7406\u903b\u8f91"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"ingress-config-event.png",src:n(129).Z,width:"2498",height:"1554"})),(0,i.kt)("h1",{id:"\u6269\u5c55\u9605\u8bfb"},"\u6269\u5c55\u9605\u8bfb"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.zhaohuabing.com/post/2023-03-09-how-to-create-a-k8s-controller/"},"Kubernetes Controller \u673a\u5236\u8be6\u89e3\uff08\u4e00\uff09")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/k8s-club/k8s-club/blob/main/articles/Informer%E6%9C%BA%E5%88%B6%20-%20%E6%A6%82%E8%BF%B0.md"},"Kubernetes Informer\u673a\u5236")))}u.isMDXComponent=!0},6675:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/higress-api-b4bff2af2fe9809b8d9f828a94a2cc13.png"},129:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ingress-config-event-64952f4ac07b6cddccf50fe2a3b872b3.png"},7412:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ingress-config-initial-a6b15333d87762e559269d75298c33e4.png"},5108:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ingress-config-21d0374ecbfad0c5e9cd56868cc13922.png"},7871:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/kubernetes-client-api-operate-7bfde18def9c1f410b5115f59a98e6b5.png"},6227:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/kubernetes-client-api-1f10a230a0ee678643c4b066a80d43f8.png"},1533:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/kubernetes-client-informer-lister-25a162f72e2b9d6c5a619279f4b8e8bf.png"},2975:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/kubernetes-client-informer-11a17598d3e9a2656a4f44fa6c063f82.png"},3816:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/kubernetes-customresuource-definition-a0e58ee2b0613f211f5492183f67679d.png"}}]);